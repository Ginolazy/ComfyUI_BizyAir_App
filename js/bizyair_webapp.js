function a0_0x3d70(){const _0x6d666c=['x3bVCNrFBwfW','l2jPENLHAxjFD2vIyxbWl2fJDgL2yxrL','CMvZDg9Yzq','C2XPy2u','BgfIzwW','8j+uTcbuuKLbtcbnt0rf','DxbKyxrLqxbWtgLZDfDPzgDLDa','tM9Uzq','zM9YrwfJAa','BwfW','w0jPENLbAxjxzwjbChbDihvWzgf0zvDPzgDLDfzHBhvLCYbLCNjVCJO','y3jLyxrL','BM9Uzq','qMvHCMvYia','zMLLBgrFBgfIzwW','y2fSBgjHy2S','C3rHDhvZx21ZzW','zxHLy3v0Aw9Ux2LUDgvYCNvWDgvK','zhjHDW','Dgv4Da','u3vJy2vZCW','CMvNAxn0zxjoB2rL','l2jPENLHAxjFD2vIyxbWl2DLDf9HCgLFA2v5','Aw5WDxrF','y29TzNLdBgfZCW','CMvTB3zLsw5WDxq','DxbKyxrLsw5WDxrZrM9YqxbW','mtqYmZGXmMfnCvjUAG','y29Kzq','Aw5JBhvKzxm','DMLKzw8','rxjYB3iGy2HLy2TPBMCGBgLJzw5ZztOG','yM9VBgvHBG','D2vIx2fWCf9Pza','Dg9Nz2XL','y29TChv0zvnPEMu','ndC2A3vbsLHo','A2v5CW','Dg9tDhjPBMC','y2fJAgvKx3DLyL9HChbFAwq','z2v0rxH0CMfnzw51t3b0Aw9UCW','C3rLCa','u1rssu5h','BgvUz3rO','yML6EwfPCL9TC2C','D2vIqxbWx2XPC3q','ofv1EvDAvW','x3vWzgf0Aw5Nsw5WDxrZ','mJCYmu1iA3nRCG','C3bSAxq','mtbWEcbbCMLHBa','u3rHDhvZoIa','w0jPENLbAxjxzwjbChbDifjLBMrLCIbLCNjVCJO','qML6EufPCLDLyKfWCa','ChjLy2LZAw9U','Dg9mB3DLCKnHC2u','yML6EwfPCL9WCM9NCMvZCW','y3vZDg9TDgv4Da','Ahr0Chm6lY9HCgKUyML6EwfPCI5JBI94l3yXl3DLyMfWCc8','Aw5WDxrFDMfSDwvZx2PZB24','BgfZDfvjtgLZDa','yxbPx2TLEq','yxbWBhK','B3v0Chv0CW','zM9UDa','zNjVBq','CMLNAhq','DwLFC25HChnOB3q','BMfTzq','vKLeru8','oLvUA25VD24','cGPtDgvWide6ienVChKGEw91CIbnywnOAw5LieLeigjLBg93igfUzcbZzw5KigL0ihrVihrOzsbKzxzLBg9Wzxi6cIHdBgLJAYbpsYb0BYbWCM9JzwvKihrVifn0zxaGmIK','zMLLBgrFB3b0Aw9UCW','B25oB2rLq3jLyxrLza','mZG0ndeYDKPND2DI','zgvSzxrL','otyWD2Pxt2DS','BNvTyMvY','DMfSDwu','BwLU','AgfZ','C2v0rgLYDhLdyw52yxm','B25szw1VDMvK','yxvKAw8','tg9HzcbgywLSzwqGkfn5BMmGtwLZC2LUzYK','zMLSBfrLEhq','Bwf4','zgf0yq','Dw5YzwDPC3rLCK5Vzgu','DxbKyxrL','twfJAgLUzsbjrdOG','DMfSDwvZ','DhLWzq','i2q4zdHKoa','qvvesu8','C3rYAw5NAwz5','CMvNAxn0zxjfEhrLBNnPB24','ChvZAa','Bwv0ywrHDge','zMXVyxq','CMvWB3j0u3rHDhvZ','zgLZCgXHEq','BM9Kzv9Uyw1L','ue9tva','B25qCM9Wzxj0EunOyw5Nzwq','su1br0u','ChjVDg90ExbL','ywrKv2LKz2v0','CMvMCMvZAa','sw5PDgLHBgL6Aw5NlI4U','CMvTB3zLtgLUAW','l2jPENLHAxjFD2vIyxbWl2rLzMf1BhrFyxbWx2XPC3q','CMvMCMvZAefWCeXPC3q','zMLLBgrFDhLWzq','ywXS','y29UDMvYDgvKlxDPzgDLDa','zMLUza','lI4U','zMLSBfn0EwXL','Aw5WDxrfBa','Dgv4DefSAwDU','BwfJAgLUzv9Pza','zhjVCgrVD24','ywrK','DMfYAwfIBgvFBMfTzq','BgLUA3m','C3r5Bgu','x3jLBMrLCKzYB21eyxrH','Aw5WDxrFBwfWCgLUzW','D2LKz2v0CW','l2jPENLHAxjFD2vIyxbWl2XPy2vUC2vFAw5MBW','uMvHzhKH','ChjVCgvYDgLLCW','z3jHCgG','zMLSDgvY','BM9Kzxm','Aw5WDxrFBM9Kzxm','yML6EwfPCL9ZDgf0DxnFDgLTzxi','mtq0nJmWwejbuM12','mtGZmJmXuwXdrhLj','C3rLCdi','qvbq','z2v0','BM9Kzv9Pza','B3b0Aw9UCW','zgv0ywLSCW','mJuYmZzOEu1mAfK','zxjYB3i','Dg9W','zgLZy29UBMvJDeLUChv0','ywrKrxzLBNrmAxn0zw5LCG','AxnszwzYzxnOAw5N','C2vYAwfSAxPLvMfSDwu','C2v0','ywrKt3v0Chv0','zMv0y2HbCgK','yML6EwfPCL9ZDgf0Dxm','Aw5WDxrZ','4PYfiefdveLwqvrfraOkww91CIbnywnOAw5LieLeigLZoG','ANnVBG','u3rLCcaYoIbfBNrLCIb0AguGtgLJzw5ZzsblzxKGEw91ihjLy2vPDMvKoG','AxnFywn0AxzHDgvK','C3rYAw5N','CMvTB3zLt3v0Chv0','DgfYz2v0x3nSB3q','z2v0tM9Kzuj5swq','C2L6zq','C3bSAwnL','ywrKsw5WDxq','BwvZC2fNzq','C3vJy2vZCW','B25szw1VDMu','mtm0nZKXme5KvvzbDq','CMv2zxjZzq'];a0_0x3d70=function(){return _0x6d666c;};return a0_0x3d70();}const a0_0x36baf3=a0_0x3269;(function(_0x1a8224,_0xcce42d){const _0x59436b=a0_0x3269,_0x4e653c=_0x1a8224();while(!![]){try{const _0x5353c3=parseInt(_0x59436b(0x13a))/0x1+-parseInt(_0x59436b(0x139))/0x2+-parseInt(_0x59436b(0xdf))/0x3*(parseInt(_0x59436b(0xd3))/0x4)+-parseInt(_0x59436b(0x15b))/0x5+parseInt(_0x59436b(0xca))/0x6+-parseInt(_0x59436b(0xf9))/0x7*(parseInt(_0x59436b(0xdd))/0x8)+-parseInt(_0x59436b(0x141))/0x9*(-parseInt(_0x59436b(0xfb))/0xa);if(_0x5353c3===_0xcce42d)break;else _0x4e653c['push'](_0x4e653c['shift']());}catch(_0x4d6c54){_0x4e653c['push'](_0x4e653c['shift']());}}}(a0_0x3d70,0x2d28b));import{app}from'../../../scripts/app.js';import{api}from'../../../scripts/api.js';import{ComfyWidgets}from'../../../scripts/widgets.js';const appCache={'metadata':new Map(),'details':new Map(),async 'update'(_0x17d57a,_0x1bcf28){const _0x7137de=a0_0x3269,_0x3e0eea=new Set(_0x17d57a);for(const _0x5111c3 of this['metadata'][_0x7137de(0xd4)]()){!_0x3e0eea[_0x7137de(0xff)](_0x5111c3)&&(this[_0x7137de(0x111)][_0x7137de(0xfa)](_0x5111c3),this['details'][_0x7137de(0xfa)](_0x5111c3));}const _0x35a784=_0x17d57a[_0x7137de(0x135)](_0x2dea9f=>!this[_0x7137de(0x140)]['has'](_0x2dea9f));_0x35a784[_0x7137de(0xda)]>0x0&&await this['fetchBatch'](_0x35a784,_0x1bcf28);},async 'fetchBatch'(_0x1709e4,_0x1f2174){const _0x352d11=a0_0x3269,_0x5d803c=_0x1709e4['map'](_0x38e6f0=>{const _0x2adaba=a0_0x3269;if(pendingRequests[_0x2adaba(0x140)][_0x2adaba(0xff)](_0x38e6f0))return pendingRequests[_0x2adaba(0x140)][_0x2adaba(0x13d)](_0x38e6f0);const _0x12bad7=((async()=>{const _0x788f7=_0x2adaba;try{const _0x3dfa3c=await fetch(_0x788f7(0xe9)+_0x38e6f0,{'headers':{'Authorization':_0x788f7(0xbc)+_0x1f2174}}),_0x30e744=await _0x3dfa3c[_0x788f7(0x14e)]();if(_0x30e744[_0x788f7(0xcb)]===0x4e20&&_0x30e744[_0x788f7(0x106)]){const _0x23afb2=_0x30e744[_0x788f7(0x106)];return this[_0x788f7(0x111)][_0x788f7(0x148)](_0x38e6f0,{'id':_0x23afb2['id'],'name':_0x23afb2[_0x788f7(0xf3)]}),this['details']['set'](_0x38e6f0,_0x23afb2),_0x23afb2;}return null;}catch(_0x2cfc08){return console[_0x788f7(0x142)]('[AppCache]\x20Error\x20fetching\x20app\x20'+_0x38e6f0+':',_0x2cfc08),null;}finally{pendingRequests[_0x788f7(0x140)][_0x788f7(0xfa)](_0x38e6f0);}})());return pendingRequests[_0x2adaba(0x140)][_0x2adaba(0x148)](_0x38e6f0,_0x12bad7),_0x12bad7;});await Promise[_0x352d11(0x121)](_0x5d803c);}},pendingRequests={'details':new Map()};function a0_0x3269(_0x241c6a,_0x5a3c62){_0x241c6a=_0x241c6a-0xb8;const _0x3d70eb=a0_0x3d70();let _0x326922=_0x3d70eb[_0x241c6a];if(a0_0x3269['hfiEEW']===undefined){var _0x4eeed2=function(_0x588f87){const _0x3b293b='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x17d57a='',_0x1bcf28='';for(let _0x3e0eea=0x0,_0x35a784,_0x5111c3,_0x2dea9f=0x0;_0x5111c3=_0x588f87['charAt'](_0x2dea9f++);~_0x5111c3&&(_0x35a784=_0x3e0eea%0x4?_0x35a784*0x40+_0x5111c3:_0x5111c3,_0x3e0eea++%0x4)?_0x17d57a+=String['fromCharCode'](0xff&_0x35a784>>(-0x2*_0x3e0eea&0x6)):0x0){_0x5111c3=_0x3b293b['indexOf'](_0x5111c3);}for(let _0x1709e4=0x0,_0x1f2174=_0x17d57a['length'];_0x1709e4<_0x1f2174;_0x1709e4++){_0x1bcf28+='%'+('00'+_0x17d57a['charCodeAt'](_0x1709e4)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1bcf28);};a0_0x3269['pXQitw']=_0x4eeed2,a0_0x3269['geNAlR']={},a0_0x3269['hfiEEW']=!![];}const _0x42ea5d=_0x3d70eb[0x0],_0xbb7151=_0x241c6a+_0x42ea5d,_0x1eda92=a0_0x3269['geNAlR'][_0xbb7151];return!_0x1eda92?(_0x326922=a0_0x3269['pXQitw'](_0x326922),a0_0x3269['geNAlR'][_0xbb7151]=_0x326922):_0x326922=_0x1eda92,_0x326922;}api[a0_0x36baf3(0x145)](a0_0x36baf3(0xe7),({detail:_0x12f9a9})=>{const _0x52d2c5=a0_0x36baf3,{node_id:_0x2cd9b5,progress:_0x4001d7,status:_0x451fd7,msg:_0x306884}=_0x12f9a9,_0x1a0c40=app[_0x52d2c5(0x134)][_0x52d2c5(0x154)](_0x2cd9b5);_0x1a0c40&&(_0x1a0c40[_0x52d2c5(0x138)]&&(clearTimeout(_0x1a0c40['bizyair_status_timer']),_0x1a0c40[_0x52d2c5(0x138)]=null),_0x1a0c40[_0x52d2c5(0xe7)]=_0x4001d7,_0x1a0c40[_0x52d2c5(0x14b)]=_0x451fd7,_0x1a0c40[_0x52d2c5(0xdb)]=_0x306884,_0x1a0c40[_0x52d2c5(0x100)](!![],!![]),(_0x451fd7===_0x52d2c5(0xc3)||_0x4001d7===0x1&&_0x451fd7!=='Failed')&&(_0x1a0c40['bizyair_status_timer']=setTimeout(()=>{const _0x3257ef=_0x52d2c5;_0x1a0c40['bizyair_progress']=0x0,_0x1a0c40[_0x3257ef(0x14b)]=null,_0x1a0c40['bizyair_msg']=null,_0x1a0c40[_0x3257ef(0x100)](!![],!![]);},0x7d0)));}),api[a0_0x36baf3(0x145)](a0_0x36baf3(0xc0),({detail:_0x3184bb})=>{const _0x535625=a0_0x36baf3,{node_id:_0x4fc72a}=_0x3184bb,_0x211e4b=app['graph'][_0x535625(0x154)](_0x4fc72a);if(_0x211e4b&&_0x211e4b[_0x535625(0xc7)]===_0x535625(0xe4)){_0x211e4b['bizyair_progress']=0x0,_0x211e4b[_0x535625(0x14b)]='Interrupted',_0x211e4b['bizyair_msg']='Execution\x20was\x20cancelled\x20by\x20user.',_0x211e4b['setDirtyCanvas'](!![],!![]);if(_0x211e4b[_0x535625(0x138)])clearTimeout(_0x211e4b['bizyair_status_timer']);_0x211e4b[_0x535625(0x138)]=setTimeout(()=>{const _0x4ea9fc=_0x535625;_0x211e4b['bizyair_status']=null,_0x211e4b['bizyair_msg']=null,_0x211e4b[_0x4ea9fc(0x100)](!![],!![]);},0xbb8);}});const globalAppListManager={'nodes':new Set(),'isRefreshing':![],'lastUIList':[a0_0x36baf3(0x164)],'registerNode'(_0x4641a0){const _0x259c45=a0_0x36baf3;this[_0x259c45(0x136)][_0x259c45(0x12a)](_0x4641a0);},'unregisterNode'(_0x4a74a7){const _0x33ab65=a0_0x36baf3;this[_0x33ab65(0x136)][_0x33ab65(0xfa)](_0x4a74a7);},async 'refresh'(){const _0x680bac=a0_0x36baf3;if(this[_0x680bac(0x146)])return;this[_0x680bac(0x146)]=!![];try{const _0x82967d=await getApiKey();if(!_0x82967d)return;const _0x382768=new Set();for(const _0x357b5a of this[_0x680bac(0x136)]){const _0x17f3c5=String(_0x357b5a[_0x680bac(0x133)]?.['webApp_list']||'');_0x17f3c5[_0x680bac(0xe0)](/[\n,]/)[_0x680bac(0xb8)](_0x28c618=>_0x28c618['trim']())[_0x680bac(0x135)](Boolean)[_0x680bac(0x165)](_0x5ada1b=>_0x382768[_0x680bac(0x12a)](_0x5ada1b));}const _0x464f85=await getDefaultAppList();_0x464f85[_0x680bac(0x165)](_0xf6210a=>_0x382768[_0x680bac(0x12a)](_0xf6210a));const _0x43ae1c=Array[_0x680bac(0xf0)](_0x382768);if(_0x43ae1c[_0x680bac(0xda)]===0x0){this[_0x680bac(0xeb)]=[_0x680bac(0x164)];for(const _0x3b8d37 of this['nodes'])_0x3b8d37[_0x680bac(0x163)]([_0x680bac(0x164)]);return;}await appCache[_0x680bac(0x108)](_0x43ae1c,_0x82967d);const _0x32c350=_0x43ae1c[_0x680bac(0xb8)](_0x43f67e=>{const _0x4b7edd=_0x680bac,_0x42e581=appCache[_0x4b7edd(0x111)]['get'](_0x43f67e);return _0x42e581?_0x43f67e+':'+_0x42e581['name']:_0x43f67e+_0x4b7edd(0xf5);});this['lastUIList']=_0x32c350;for(const _0x459540 of this['nodes'])_0x459540[_0x680bac(0x163)](_0x32c350);}catch(_0x1fe5d5){console[_0x680bac(0x142)]('[GlobalAppList]\x20Refresh\x20failed:',_0x1fe5d5);}finally{this[_0x680bac(0x146)]=![];}}};async function getApiKey(){const _0x5ed7c7=a0_0x36baf3;try{const _0x4d6ec6=await api[_0x5ed7c7(0x14a)](_0x5ed7c7(0xc5));if(!_0x4d6ec6['ok'])return null;const _0xc49cbf=await _0x4d6ec6[_0x5ed7c7(0x14e)]();return _0xc49cbf[_0x5ed7c7(0xec)];}catch{return null;}}async function getDefaultAppList(){const _0x3bbd74=a0_0x36baf3;try{const _0x3dbe0e=await api[_0x3bbd74(0x14a)](_0x3bbd74(0x11e));if(!_0x3dbe0e['ok'])return[];const _0x295e5b=await _0x3dbe0e[_0x3bbd74(0x14e)]();return _0x295e5b['default_apps']||[];}catch{return[];}}const WidgetFactory={'create'(_0x5ce55f,_0x1fb3a3,_0x404973){const _0x340f37=a0_0x36baf3,{label:_0x44266b,type:_0x59eb5e,defaultValue:_0x28d363,options:_0x4844f5,variableName:_0x506a70}=_0x1fb3a3;let _0x36c55d;if(_0x59eb5e===_0x340f37(0xd1)||_0x59eb5e===_0x340f37(0xcf))_0x36c55d=_0x5ce55f[_0x340f37(0x11a)]('toggle',_0x44266b,!!_0x28d363,_0x404973,_0x4844f5);else{if(_0x59eb5e==='combo'||_0x59eb5e===_0x340f37(0x129)){const _0x5940e2=_0x4844f5['values']||[_0x28d363];_0x36c55d=_0x5ce55f[_0x340f37(0x11a)]('combo',_0x44266b,_0x28d363,_0x404973,{'values':_0x5940e2});}else{if(_0x59eb5e===_0x340f37(0xe8)){const _0x5df72d=ComfyWidgets[_0x340f37(0xd9)](_0x5ce55f,_0x44266b,['STRING',{'multiline':!![]}],app);_0x36c55d=_0x5df72d['widget'],_0x36c55d[_0x340f37(0xbe)]=_0x404973;if(_0x36c55d[_0x340f37(0x126)])_0x36c55d[_0x340f37(0x126)][_0x340f37(0x12d)][_0x340f37(0x114)]='';_0x36c55d[_0x340f37(0xfd)]=_0x28d363;}else{if(_0x59eb5e===_0x340f37(0x112)||_0x59eb5e===_0x340f37(0xfc)||_0x59eb5e==='int'){let _0x5a50df=Number(_0x28d363);if(isNaN(_0x5a50df))_0x5a50df=0x0;const _0xa47cc8={};let _0x1ca91e=0x1;if(_0x4844f5[_0x340f37(0x13b)]!==undefined)_0x1ca91e=Number(_0x4844f5[_0x340f37(0x13b)]);else{if(_0x4844f5[_0x340f37(0xd8)]!==undefined)_0x1ca91e=Number(_0x4844f5[_0x340f37(0xd8)]);}if(isNaN(_0x1ca91e)||_0x1ca91e<=0x0)_0x1ca91e=0x1;_0xa47cc8[_0x340f37(0xd8)]=_0x1ca91e*0xa;if(_0x4844f5&&_0x4844f5[_0x340f37(0xfe)]!==undefined){const _0x5c4f29=Number(_0x4844f5['min']);if(!isNaN(_0x5c4f29))_0xa47cc8['min']=_0x5c4f29;}if(_0x4844f5&&_0x4844f5[_0x340f37(0x105)]!==undefined){const _0x4063e0=Number(_0x4844f5[_0x340f37(0x105)]);if(!isNaN(_0x4063e0))_0xa47cc8[_0x340f37(0x105)]=_0x4063e0;}const _0x5e3f3c=_0x1ca91e[_0x340f37(0xd5)]();_0xa47cc8[_0x340f37(0xe5)]=_0x5e3f3c[_0x340f37(0xcc)]('.')?_0x5e3f3c['split']('.')[0x1][_0x340f37(0xda)]:0x0,_0x36c55d=_0x5ce55f['addWidget'](_0x340f37(0xfc),_0x44266b,_0x5a50df,_0x4e30e1=>{_0x404973(),_0x5ce55f['setDirtyCanvas'](!![],![]);},_0xa47cc8);}else _0x36c55d=_0x5ce55f[_0x340f37(0x11a)](_0x340f37(0xc2),_0x44266b,String(_0x28d363),_0x404973,_0x4844f5);}}}if(_0x36c55d)_0x36c55d['variableName']=_0x506a70;return _0x36c55d;}};app[a0_0x36baf3(0x10f)]({'name':'CCNotes.BizyAirWebApp',async 'beforeRegisterNodeDef'(_0xef5970,_0x8c2f15,_0x31febf){const _0x106d8e=a0_0x36baf3;if(_0x8c2f15[_0x106d8e(0xf3)]!==_0x106d8e(0xe4))return;_0xef5970[_0x106d8e(0x119)][_0x106d8e(0x117)]=function(_0x4232c0,_0x4d2285){const _0x14b4cc=_0x106d8e;_0x4232c0==='webApp_list'&&(this[_0x14b4cc(0x133)][_0x4232c0]=_0x4d2285,globalAppListManager['refresh']());};const _0x4e97cb=_0xef5970[_0x106d8e(0x119)][_0x106d8e(0xd7)];_0xef5970[_0x106d8e(0x119)][_0x106d8e(0xd7)]=function(_0x5bf8e2,_0x19e5cb){const _0x2744=_0x106d8e;if(_0x4e97cb)_0x4e97cb[_0x2744(0xed)](this,arguments);_0x19e5cb[_0x2744(0x110)]({'content':'ðŸ”‘\x20Activate\x20License\x20/\x20View\x20Status','callback':async()=>{const _0x3e39d4=_0x2744;try{const _0x32ffe4=await fetchLicenseInfo();let _0x213850=_0x3e39d4(0x109)+_0x32ffe4[_0x3e39d4(0x128)]+'\x0a';_0x213850+=_0x3e39d4(0xe2)+(_0x32ffe4[_0x3e39d4(0x150)]?'âœ…\x20ACTIVATED':_0x3e39d4(0x162))+'\x0a';if(!_0x32ffe4[_0x3e39d4(0x150)]){prompt('ðŸ”´\x20TRIAL\x20MODE\x0a'+_0x32ffe4[_0x3e39d4(0xbf)]+_0x3e39d4(0xf6),_0x32ffe4[_0x3e39d4(0x128)]);const _0xcf4910=prompt(_0x3e39d4(0x14f));if(_0xcf4910){const _0x1c822d=await activateLicense(_0xcf4910);alert(_0x1c822d[_0x3e39d4(0x158)]),_0x1c822d[_0x3e39d4(0x159)]&&this[_0x3e39d4(0x100)](!![]);}}else prompt(_0x3e39d4(0x14d),_0x32ffe4[_0x3e39d4(0x128)]);}catch(_0x359f76){alert(_0x3e39d4(0xce)+_0x359f76);}}});};const _0x2a360b=_0xef5970['prototype'][_0x106d8e(0xf8)];_0xef5970[_0x106d8e(0x119)]['onNodeCreated']=function(){const _0x34c3a4=_0x106d8e;if(_0x2a360b)_0x2a360b[_0x34c3a4(0xed)](this,arguments);globalAppListManager[_0x34c3a4(0xc4)](this),this[_0x34c3a4(0xde)]=![],this[_0x34c3a4(0x133)]=this[_0x34c3a4(0x133)]||{};if(this[_0x34c3a4(0x133)][_0x34c3a4(0xdc)]===undefined)this[_0x34c3a4(0x133)]['webApp_list']='';const _0x28a6b2=this[_0x34c3a4(0x130)][_0x34c3a4(0x123)](_0x4e59d7=>_0x4e59d7['name']==='APP');_0x28a6b2&&(_0x28a6b2[_0x34c3a4(0xbe)]=async _0x47e1b4=>{const _0x4ab7e9=_0x34c3a4;if(_0x47e1b4&&_0x47e1b4!==_0x4ab7e9(0x164)){const _0x539823=_0x47e1b4[_0x4ab7e9(0xe0)](':')[0x0];await this[_0x4ab7e9(0xc9)](_0x539823);}}),setTimeout(()=>{const _0x27715a=_0x34c3a4;if(this[_0x27715a(0x133)]['ui_snapshot'])try{this['_renderFromData'](this[_0x27715a(0x133)]['ui_snapshot']);}catch(_0x460994){console['warn']('[BizyAirWebApp]\x20Snapshot\x20restore\x20failed:',_0x460994);}this[_0x27715a(0x11f)]({'restoreCurrentApp':!![]});},0x10);},_0xef5970[_0x106d8e(0x119)][_0x106d8e(0x101)]=function(){const _0x402d03=_0x106d8e;globalAppListManager[_0x402d03(0x107)](this);},_0xef5970['prototype'][_0x106d8e(0x163)]=function(_0x1232c1){const _0x196986=_0x106d8e,_0x4c46e7=this['widgets'][_0x196986(0x123)](_0x636526=>_0x636526[_0x196986(0xf3)]===_0x196986(0x13c));if(!_0x4c46e7)return;const _0x312315=_0x4c46e7[_0x196986(0xfd)];_0x4c46e7[_0x196986(0x13f)][_0x196986(0x10a)]=_0x1232c1;if(_0x1232c1[_0x196986(0xcc)](_0x312315))_0x4c46e7[_0x196986(0xfd)]=_0x312315;else _0x4c46e7[_0x196986(0xfd)]=_0x1232c1[0x0]||_0x196986(0x164);this[_0x196986(0x100)](!![]);},_0xef5970[_0x106d8e(0x119)]['onDrawForeground']=function(_0x2009ec){const _0x15b67b=_0x106d8e;this[_0x15b67b(0xe7)]>0x0&&this[_0x15b67b(0xe7)]<0x1&&(_0x2009ec['save'](),_0x2009ec[_0x15b67b(0x125)]='#00FF00',_0x2009ec['fillRect'](0x0,0x0,this[_0x15b67b(0x155)][0x0]*this['bizyair_progress'],0x1),_0x2009ec[_0x15b67b(0x15f)]());if(this['bizyair_status']){_0x2009ec['save']();let _0xf46784=this[_0x15b67b(0x14b)];if(_0xf46784[_0x15b67b(0xda)]>0x32)_0xf46784=_0xf46784['substring'](0x0,0x30)+_0x15b67b(0x124);_0x2009ec[_0x15b67b(0xef)]=_0x15b67b(0xe1),_0x2009ec[_0x15b67b(0x125)]=_0x15b67b(0x10c),_0x2009ec[_0x15b67b(0x127)]=_0x15b67b(0xf1),_0x2009ec['textBaseline']=_0x15b67b(0x143),_0x2009ec[_0x15b67b(0x104)](_0xf46784,this[_0x15b67b(0x155)][0x0]-0xa,this['size'][0x1]+0xa),_0x2009ec[_0x15b67b(0x15f)]();}},_0xef5970['prototype'][_0x106d8e(0x113)]=function(_0x51c2dd,_0xfb221a=0x0){const _0x11af92=_0x106d8e;this['bizyair_status']=_0x51c2dd,this[_0x11af92(0x100)](!![],!![]),this[_0x11af92(0x138)]&&(clearTimeout(this[_0x11af92(0x138)]),this[_0x11af92(0x138)]=null),_0xfb221a>0x0&&(this[_0x11af92(0x138)]=setTimeout(()=>{const _0x149573=_0x11af92;this['bizyair_status']===_0x51c2dd&&(this[_0x149573(0x14b)]=null,this['setDirtyCanvas'](!![],!![]));},_0xfb221a));},_0xef5970[_0x106d8e(0x119)][_0x106d8e(0x11f)]=async function(_0x1eb3a7={}){const _0x586451=_0x106d8e,{restoreCurrentApp:restoreCurrentApp=![]}=_0x1eb3a7;if(restoreCurrentApp){const _0x2f28b8=this[_0x586451(0x130)][_0x586451(0x123)](_0x3021d0=>_0x3021d0[_0x586451(0xf3)]===_0x586451(0x13c));if(_0x2f28b8&&_0x2f28b8[_0x586451(0xfd)]&&_0x2f28b8[_0x586451(0xfd)]!=='None'){this[_0x586451(0x113)](_0x586451(0x11c));const _0x15132b=_0x2f28b8[_0x586451(0xfd)]['split'](':')[0x0],_0x2a37b2=await this[_0x586451(0xc9)](_0x15132b);if(_0x2a37b2)this[_0x586451(0x113)](_0x586451(0x132),0x3e8);else this[_0x586451(0x113)](null);}}while(globalAppListManager[_0x586451(0x146)])await new Promise(_0x57158f=>setTimeout(_0x57158f,0x32));await globalAppListManager[_0x586451(0x11b)]();if(restoreCurrentApp){const _0x3e8d6c=this[_0x586451(0x130)][_0x586451(0x123)](_0xfb3c09=>_0xfb3c09['name']==='APP');if(_0x3e8d6c&&_0x3e8d6c['value']&&_0x3e8d6c[_0x586451(0xfd)]!==_0x586451(0x164)){this[_0x586451(0x113)](_0x586451(0x11c));const _0x2fac8a=_0x3e8d6c[_0x586451(0xfd)]['split'](':')[0x0],_0x46ecda=await this['updateInputsForApp'](_0x2fac8a);if(_0x46ecda)this[_0x586451(0x113)](_0x586451(0x132),0x3e8);else this[_0x586451(0x113)](null);}else this[_0x586451(0x113)](null);}},_0xef5970[_0x106d8e(0x119)][_0x106d8e(0xc9)]=async function(_0x196682){const _0x4d34b3=_0x106d8e;if(this[_0x4d34b3(0xde)])return![];this[_0x4d34b3(0xde)]=!![];try{let _0x3f2a62=appCache['details'][_0x4d34b3(0x13d)](_0x196682);if(!_0x3f2a62&&globalAppListManager[_0x4d34b3(0x146)]){this['reportStatus']('Waiting\x20for\x20Sync...');while(globalAppListManager[_0x4d34b3(0x146)])await new Promise(_0x5eadab=>setTimeout(_0x5eadab,0x32));_0x3f2a62=appCache[_0x4d34b3(0x140)][_0x4d34b3(0x13d)](_0x196682);}if(!_0x3f2a62)return this['reportStatus'](_0x4d34b3(0x103)),![];return this[_0x4d34b3(0x133)][_0x4d34b3(0xf2)]={'id':_0x3f2a62['id'],'name':_0x3f2a62['name'],'input_nodes':_0x3f2a62[_0x4d34b3(0x137)]},this[_0x4d34b3(0x12e)](_0x3f2a62);}finally{this['_updatingInputs']=![];}},_0xef5970[_0x106d8e(0x119)][_0x106d8e(0x12e)]=function(_0x1f395c){const _0x3e89e7=_0x106d8e;try{const _0x3ac46c=_0x1f395c['id'],_0x363f62=_0x1f395c[_0x3e89e7(0x137)]||[];this[_0x3e89e7(0x133)][_0x3e89e7(0xd6)]=String(_0x3ac46c);const _0x5eccc4=['APP',_0x3e89e7(0xdc),_0x3e89e7(0xea)],_0x24e091={},_0x5150a1={};if(this[_0x3e89e7(0x130)])for(const _0x35a7f8 of this[_0x3e89e7(0x130)]){if(!_0x5eccc4[_0x3e89e7(0xcc)](_0x35a7f8[_0x3e89e7(0xf3)]))_0x5150a1[_0x35a7f8[_0x3e89e7(0xf3)]]=_0x35a7f8[_0x3e89e7(0xfd)];}for(let _0x4668eb=this['widgets'][_0x3e89e7(0xda)]-0x1;_0x4668eb>=0x0;_0x4668eb--){const _0x176c39=this[_0x3e89e7(0x130)][_0x4668eb];if(!_0x5eccc4['includes'](_0x176c39[_0x3e89e7(0xf3)])){if(_0x176c39[_0x3e89e7(0x15a)])_0x176c39[_0x3e89e7(0x15a)]();if(_0x176c39[_0x3e89e7(0x126)])_0x176c39[_0x3e89e7(0x126)]['remove']();this['widgets'][_0x3e89e7(0x156)](_0x4668eb,0x1);}}const _0x1e48b1=()=>updateWidgetValues(this,_0x24e091);let _0x207120=0x0,_0x4005df=0x0;const _0x4a04c7=new Set();for(const _0x58c47d of _0x363f62){let _0xc9fc0e=_0x58c47d[_0x3e89e7(0xbd)]||_0x58c47d[_0x3e89e7(0x115)]||_0x58c47d[_0x3e89e7(0x12b)];if(_0x4a04c7[_0x3e89e7(0xff)](_0xc9fc0e))_0xc9fc0e=_0xc9fc0e+'\x20('+_0x58c47d[_0x3e89e7(0x13e)]+')';_0x4a04c7['add'](_0xc9fc0e);const _0x5b6cd7=_0x58c47d[_0x3e89e7(0x12b)],_0x1f3d1c=(_0x58c47d['node_type']||'')['toLowerCase'](),_0x5e5d5f=_0x58c47d['field_value'],_0x29c4dd=_0x1f3d1c['includes']('loadimage'),_0x5c7033=_0x1f3d1c['includes']('loadaudio'),_0x3d5e5c=_0x1f3d1c[_0x3e89e7(0xcc)]('loadvideo');if(_0x29c4dd||_0x5c7033||_0x3d5e5c){let _0x114bf4=_0x29c4dd?_0x3e89e7(0x118):_0x5c7033?'AUDIO':_0x3e89e7(0xf4);const _0x5202d3=_0x3e89e7(0xc6)+(_0x207120+0x1);_0x4005df<(this[_0x3e89e7(0x14c)]?this[_0x3e89e7(0x14c)][_0x3e89e7(0xda)]:0x0)?(this['inputs'][_0x4005df][_0x3e89e7(0xf3)]=_0x5202d3,this[_0x3e89e7(0x14c)][_0x4005df]['type']=_0x114bf4,this[_0x3e89e7(0x14c)][_0x4005df][_0x3e89e7(0x161)]=_0xc9fc0e):(this[_0x3e89e7(0x157)](_0x5202d3,_0x114bf4),this['inputs'][this[_0x3e89e7(0x14c)][_0x3e89e7(0xda)]-0x1]['label']=_0xc9fc0e),_0x24e091[_0x5202d3]=_0x5b6cd7,_0x207120++,_0x4005df++;}else{let _0x610de9={};try{if(_0x58c47d['field_options'])_0x610de9=typeof _0x58c47d[_0x3e89e7(0xf7)]===_0x3e89e7(0x151)?JSON['parse'](_0x58c47d[_0x3e89e7(0xf7)]):_0x58c47d[_0x3e89e7(0xf7)];}catch(_0xade6e4){}const _0x100817=WidgetFactory[_0x3e89e7(0xba)](this,{'label':_0xc9fc0e,'type':(_0x58c47d[_0x3e89e7(0x120)]||'')[_0x3e89e7(0xe6)](),'defaultValue':_0x5e5d5f,'options':_0x610de9,'variableName':_0x5b6cd7},_0x1e48b1);if(_0x5150a1[_0xc9fc0e]!==undefined)_0x100817[_0x3e89e7(0xfd)]=_0x5150a1[_0xc9fc0e];}}if(this[_0x3e89e7(0x14c)]){while(this['inputs']['length']>_0x207120)this[_0x3e89e7(0xc8)](this[_0x3e89e7(0x14c)][_0x3e89e7(0xda)]-0x1);}if(!this[_0x3e89e7(0x130)]['find'](_0x394e83=>_0x394e83['name']==='input_values_json')){const _0x164352=this[_0x3e89e7(0x11a)](_0x3e89e7(0xc2),_0x3e89e7(0xea),'{}',()=>{});_0x164352[_0x3e89e7(0x147)]=()=>_0x164352[_0x3e89e7(0xfd)],_0x164352['computeSize']=()=>[0x0,-0x4],_0x164352[_0x3e89e7(0xc1)]=()=>{};if(_0x164352['inputEl'])_0x164352[_0x3e89e7(0x126)][_0x3e89e7(0x12d)][_0x3e89e7(0x114)]=_0x3e89e7(0xbb);}updateWidgetValues(this,_0x24e091);const _0x50c238=(_0x1f395c['name']||'')[_0x3e89e7(0xe6)]();let _0x2f0def=_0x3e89e7(0x118);if(_0x50c238['includes'](_0x3e89e7(0xcd))||_0x50c238['includes']('è§†é¢‘'))_0x2f0def=_0x3e89e7(0xf4);else{if(_0x50c238[_0x3e89e7(0xcc)](_0x3e89e7(0x102))||_0x50c238[_0x3e89e7(0xcc)]('éŸ³é¢‘'))_0x2f0def=_0x3e89e7(0x10d);}if(!this[_0x3e89e7(0xee)]||this[_0x3e89e7(0xee)]['length']===0x0)this[_0x3e89e7(0x149)](_0x2f0def,_0x2f0def),this['outputs'][0x0][_0x3e89e7(0x161)]=_0x2f0def;else{this[_0x3e89e7(0xee)][0x0][_0x3e89e7(0xf3)]=_0x2f0def,this['outputs'][0x0][_0x3e89e7(0x161)]=_0x2f0def,this[_0x3e89e7(0xee)][0x0]['type']=_0x2f0def;while(this['outputs'][_0x3e89e7(0xda)]>0x1)this[_0x3e89e7(0x152)](this['outputs']['length']-0x1);}validateConnections(this);const _0x45cbe0=this[_0x3e89e7(0xd2)]();return this['setSize']([Math[_0x3e89e7(0x105)](this[_0x3e89e7(0x155)][0x0],_0x45cbe0[0x0]),_0x45cbe0[0x1]]),this[_0x3e89e7(0x100)](!![],!![]),!![];}catch(_0x16ed22){return console[_0x3e89e7(0x142)](_0x3e89e7(0xe3),_0x16ed22),![];}};}});function updateWidgetValues(_0x3a1d8c,_0x4a5d6c){const _0x9ca1c3=a0_0x36baf3;try{const _0x54ccc5={};if(_0x3a1d8c[_0x9ca1c3(0x130)])for(const _0x46d455 of _0x3a1d8c[_0x9ca1c3(0x130)]){if(['web_app_id',_0x9ca1c3(0x12f),_0x9ca1c3(0xea),_0x9ca1c3(0x13c)][_0x9ca1c3(0xcc)](_0x46d455['name'])||_0x46d455['type']===_0x9ca1c3(0x122))continue;const _0x44f534=_0x46d455['variableName']||_0x46d455[_0x9ca1c3(0xf3)];_0x54ccc5[_0x44f534]=_0x46d455[_0x9ca1c3(0xfd)];}_0x3a1d8c[_0x9ca1c3(0x133)]&&_0x3a1d8c[_0x9ca1c3(0x133)]['cached_web_app_id']&&(_0x54ccc5[_0x9ca1c3(0xd0)]=_0x3a1d8c[_0x9ca1c3(0x133)]['cached_web_app_id']);_0x54ccc5[_0x9ca1c3(0x15d)]=_0x4a5d6c;const _0x52ec0e=_0x3a1d8c['widgets']['find'](_0x1f09b=>_0x1f09b['name']==='input_values_json');if(_0x52ec0e){const _0x673bec=JSON[_0x9ca1c3(0x10e)](_0x54ccc5);_0x52ec0e[_0x9ca1c3(0xfd)]!==_0x673bec&&(_0x52ec0e['value']=_0x673bec);}}catch(_0x423309){console['error'](_0x9ca1c3(0xb9),_0x423309);}}function validateConnections(_0x389af4){const _0x37bb0b=a0_0x36baf3;_0x389af4[_0x37bb0b(0x14c)]?.[_0x37bb0b(0x165)]((_0x578498,_0xf7f71e)=>{const _0x22f0f6=_0x37bb0b,_0x3a7c3b=app['graph']['links'][_0x578498['link']];if(_0x3a7c3b&&_0x3a7c3b[_0x22f0f6(0x10b)]!==_0x578498[_0x22f0f6(0x10b)]&&_0x578498[_0x22f0f6(0x10b)]!=='*')_0x389af4[_0x22f0f6(0x144)](_0xf7f71e);}),_0x389af4[_0x37bb0b(0xee)]?.['forEach'](_0x461ce=>{const _0x3d69ba=_0x37bb0b;_0x461ce['links']?.[_0x3d69ba(0x160)]()[_0x3d69ba(0x15c)]()[_0x3d69ba(0x165)](_0x2edaf9=>{const _0x354052=_0x3d69ba,_0x455916=app['graph'][_0x354052(0x12c)][_0x2edaf9];if(_0x455916){const _0x38585d=app[_0x354052(0x134)][_0x354052(0x154)](_0x455916['target_id']),_0x2f0299=_0x38585d?.['inputs']?.[_0x455916[_0x354052(0x153)]]?.['type'];_0x461ce[_0x354052(0x10b)]!=='*'&&_0x2f0299!=='*'&&_0x461ce['type']!==_0x2f0299&&app[_0x354052(0x134)][_0x354052(0x11d)](_0x2edaf9);}});});}async function fetchLicenseInfo(){const _0x4b09fe=a0_0x36baf3,_0x5ac5d4=await api['fetchApi'](_0x4b09fe(0x131));if(!_0x5ac5d4['ok'])throw new Error('Failed\x20to\x20fetch\x20license\x20info');return await _0x5ac5d4[_0x4b09fe(0x14e)]();}async function activateLicense(_0x13ec16){const _0x5c07fe=a0_0x36baf3,_0x1068d4=await api[_0x5c07fe(0x14a)](_0x5c07fe(0x15e),{'method':_0x5c07fe(0x116),'body':JSON[_0x5c07fe(0x10e)]({'key':_0x13ec16})});return await _0x1068d4[_0x5c07fe(0x14e)]();}