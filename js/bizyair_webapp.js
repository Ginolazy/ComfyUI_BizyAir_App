const a0_0x9ae8ca=a0_0x226d;(function(_0x242161,_0x50bde0){const _0x38fadc=a0_0x226d,_0x2816c2=_0x242161();while(!![]){try{const _0x271400=parseInt(_0x38fadc(0x16c))/0x1*(parseInt(_0x38fadc(0x17a))/0x2)+parseInt(_0x38fadc(0x1c7))/0x3*(-parseInt(_0x38fadc(0x1bb))/0x4)+-parseInt(_0x38fadc(0x1a8))/0x5*(parseInt(_0x38fadc(0x1b3))/0x6)+-parseInt(_0x38fadc(0x1c8))/0x7+-parseInt(_0x38fadc(0x163))/0x8+-parseInt(_0x38fadc(0x183))/0x9*(parseInt(_0x38fadc(0x180))/0xa)+-parseInt(_0x38fadc(0x1d2))/0xb*(-parseInt(_0x38fadc(0x1e2))/0xc);if(_0x271400===_0x50bde0)break;else _0x2816c2['push'](_0x2816c2['shift']());}catch(_0xc7bb5c){_0x2816c2['push'](_0x2816c2['shift']());}}}(a0_0x5a78,0xbafa5));import{app}from'../../../scripts/app.js';function a0_0x226d(_0x599ff7,_0x538a6f){_0x599ff7=_0x599ff7-0x146;const _0x5a7899=a0_0x5a78();let _0x226db2=_0x5a7899[_0x599ff7];if(a0_0x226d['rsHDyz']===undefined){var _0xf0337e=function(_0x20378a){const _0x2f002e='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2dc325='',_0xb6a4fc='';for(let _0x49cd4d=0x0,_0x2f5fef,_0x3e61c2,_0x59ae0c=0x0;_0x3e61c2=_0x20378a['charAt'](_0x59ae0c++);~_0x3e61c2&&(_0x2f5fef=_0x49cd4d%0x4?_0x2f5fef*0x40+_0x3e61c2:_0x3e61c2,_0x49cd4d++%0x4)?_0x2dc325+=String['fromCharCode'](0xff&_0x2f5fef>>(-0x2*_0x49cd4d&0x6)):0x0){_0x3e61c2=_0x2f002e['indexOf'](_0x3e61c2);}for(let _0x14644a=0x0,_0x33c77a=_0x2dc325['length'];_0x14644a<_0x33c77a;_0x14644a++){_0xb6a4fc+='%'+('00'+_0x2dc325['charCodeAt'](_0x14644a)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xb6a4fc);};a0_0x226d['QWpIeT']=_0xf0337e,a0_0x226d['aFcuAs']={},a0_0x226d['rsHDyz']=!![];}const _0x51c823=_0x5a7899[0x0],_0x4bb8f4=_0x599ff7+_0x51c823,_0x3b9a2d=a0_0x226d['aFcuAs'][_0x4bb8f4];return!_0x3b9a2d?(_0x226db2=a0_0x226d['QWpIeT'](_0x226db2),a0_0x226d['aFcuAs'][_0x4bb8f4]=_0x226db2):_0x226db2=_0x3b9a2d,_0x226db2;}import{api}from'../../../scripts/api.js';import{ComfyWidgets}from'../../../scripts/widgets.js';const appCache={'metadata':new Map(),'details':new Map(),async 'update'(_0x2dc325,_0xb6a4fc){const _0x25b7c5=a0_0x226d,_0x49cd4d=new Set(_0x2dc325);for(const _0x3e61c2 of this[_0x25b7c5(0x18b)]['keys']()){!_0x49cd4d['has'](_0x3e61c2)&&(this[_0x25b7c5(0x18b)]['delete'](_0x3e61c2),this[_0x25b7c5(0x153)][_0x25b7c5(0x1a9)](_0x3e61c2));}const _0x2f5fef=_0x2dc325['filter'](_0x59ae0c=>!this[_0x25b7c5(0x153)][_0x25b7c5(0x15f)](_0x59ae0c));_0x2f5fef[_0x25b7c5(0x164)]>0x0&&await this[_0x25b7c5(0x160)](_0x2f5fef,_0xb6a4fc);},async 'fetchBatch'(_0x14644a,_0x33c77a){const _0x337c91=a0_0x226d,_0x124dae=_0x14644a[_0x337c91(0x19d)](_0x34c73e=>{const _0x2895d6=_0x337c91;if(pendingRequests[_0x2895d6(0x153)]['has'](_0x34c73e))return pendingRequests[_0x2895d6(0x153)][_0x2895d6(0x1b7)](_0x34c73e);const _0x13c39e=((async()=>{const _0x261048=_0x2895d6;try{const _0x1cded8=await fetch(_0x261048(0x1a3)+_0x34c73e,{'headers':{'Authorization':_0x261048(0x198)+_0x33c77a}}),_0x2a4bf5=await _0x1cded8[_0x261048(0x1cb)]();if(_0x2a4bf5[_0x261048(0x1bc)]===0x4e20&&_0x2a4bf5[_0x261048(0x186)]){const _0x51bb36=_0x2a4bf5['data'];return this['metadata'][_0x261048(0x1ca)](_0x34c73e,{'id':_0x51bb36['id'],'name':_0x51bb36[_0x261048(0x1e0)]}),this[_0x261048(0x153)][_0x261048(0x1ca)](_0x34c73e,_0x51bb36),_0x51bb36;}return null;}catch(_0x514d26){return console['error'](_0x261048(0x1a4)+_0x34c73e+':',_0x514d26),null;}finally{pendingRequests['details']['delete'](_0x34c73e);}})());return pendingRequests['details'][_0x2895d6(0x1ca)](_0x34c73e,_0x13c39e),_0x13c39e;});await Promise[_0x337c91(0x1c1)](_0x124dae);}},pendingRequests={'details':new Map()};api[a0_0x9ae8ca(0x157)](a0_0x9ae8ca(0x1e7),({detail:_0x231627})=>{const _0x15ce49=a0_0x9ae8ca,{node_id:_0x3be983,progress:_0x1ba49a,status:_0x2168af,msg:_0x989977}=_0x231627,_0x1f60cf=app[_0x15ce49(0x1a2)][_0x15ce49(0x149)](_0x3be983);_0x1f60cf&&(_0x1f60cf[_0x15ce49(0x1da)]&&(clearTimeout(_0x1f60cf[_0x15ce49(0x1da)]),_0x1f60cf['bizyair_status_timer']=null),_0x1f60cf[_0x15ce49(0x1e7)]=_0x1ba49a,_0x1f60cf[_0x15ce49(0x1bf)]=_0x2168af,_0x1f60cf[_0x15ce49(0x181)]=_0x989977,_0x1f60cf[_0x15ce49(0x182)](!![],!![]),(_0x2168af===_0x15ce49(0x1cc)||_0x1ba49a===0x1&&_0x2168af!==_0x15ce49(0x1e6))&&(_0x1f60cf[_0x15ce49(0x1da)]=setTimeout(()=>{const _0x5b5cf3=_0x15ce49;_0x1f60cf[_0x5b5cf3(0x1e7)]=0x0,_0x1f60cf[_0x5b5cf3(0x1bf)]=null,_0x1f60cf[_0x5b5cf3(0x181)]=null,_0x1f60cf[_0x5b5cf3(0x182)](!![],!![]);},0x7d0)));}),api[a0_0x9ae8ca(0x157)](a0_0x9ae8ca(0x17f),({detail:_0x581570})=>{const _0x421b1e=a0_0x9ae8ca,{node_id:_0x4e7924}=_0x581570,_0x4ee29d=app['graph']['getNodeById'](_0x4e7924);if(_0x4ee29d&&_0x4ee29d[_0x421b1e(0x18e)]===_0x421b1e(0x1df)){_0x4ee29d[_0x421b1e(0x1e7)]=0x0,_0x4ee29d[_0x421b1e(0x1bf)]=_0x421b1e(0x1d8),_0x4ee29d['bizyair_msg']=_0x421b1e(0x17d),_0x4ee29d[_0x421b1e(0x182)](!![],!![]);if(_0x4ee29d[_0x421b1e(0x1da)])clearTimeout(_0x4ee29d[_0x421b1e(0x1da)]);_0x4ee29d[_0x421b1e(0x1da)]=setTimeout(()=>{const _0x56ee14=_0x421b1e;_0x4ee29d[_0x56ee14(0x1bf)]=null,_0x4ee29d['bizyair_msg']=null,_0x4ee29d['setDirtyCanvas'](!![],!![]);},0xbb8);}});function a0_0x5a78(){const _0x3f8196=['zgf0yq','y29TyM8','Aw5WDxrfBa','zgLZy29UBMvJDeLUChv0','y3vZDg9TDgv4Da','Bwv0ywrHDge','CMvNAxn0zxjoB2rL','zMLUza','y29TzNLdBgfZCW','BNvTyMvY','DMfSDwu','zMLLBgrFB3b0Aw9UCW','uMvHzhKH','y29UDMvYDgvKlxDPzgDLDa','x3vWzgf0Aw5Nsw5WDxrZ','C3rYAw5N','zMLSBfrLEhq','Aw5WDxrFBM9Kzxm','qMvHCMvYia','zxjYB3i','Dg9Nz2XL','mtbWEcbbCMLHBa','DMLKzw8','BwfW','B25eCMf3rM9YzwDYB3vUza','zgLZCgXHEq','CMvTB3zLsw5WDxq','C2L6zq','z3jHCgG','Ahr0Chm6lY9HCgKUyML6EwfPCI5JBI94l3yXl3DLyMfWCc8','w0fWCenHy2HLxsbfCNjVCIbMzxrJAgLUzYbHChaG','w0jPENLbAxjxzwjbChbDifnUyxbZAg90ihjLC3rVCMuGzMfPBgvKoG','C3rLCdi','u1rssu5h','nJm3mdqWnuHXBKHisG','zgvSzxrL','DxbKyxrL','CMvTB3zLt3v0Chv0','zhjHDW','yxvKAw8','B3v0Chv0CW','BM9Kzv9Uyw1L','l2jPENLHAxjFD2vIyxbWl2rLzMf1BhrFyxbWx2XPC3q','B25szw1VDMu','BwLU','nNvhDgPktq','qvvesu8','DhLWzq','C3bSAxq','z2v0','Bwf4','Dgv4Da','x3bVCNrFBwfW','ngTpzxDoDq','y29Kzq','zMLSDgvY','Aw5WDxrZ','yML6EwfPCL9ZDgf0Dxm','Bg9Hzgf1zgLV','ywXS','tM9Uzq','CMvTB3zL','CMvZDg9Yzq','BM9Kzv90ExbL','ywrKsw5WDxq','nZGWndi2qNnODNzg','ntmYmZe1n2P6A3bgqW','zMLLBgrFDMfSDwu','C2v0','ANnVBG','u3vJy2vZCW','zMLLBgrFBgfIzwW','D2vIx2fWCf9Pza','y29TChv0zvnPEMu','CMvTB3zLtgLUAW','zM9YrwfJAa','mtC0mtG0ndvXDhrkvvG','CMvMCMvZAefWCeXPC3q','BgfIzwW','ChjLy2LZAw9U','l2jPENLHAxjFD2vIyxbWl2DLDf9HCgLFA2v5','C3vIC3rYAw5N','sw50zxjYDxb0zwq','ChjVCgvYDgLLCW','yML6EwfPCL9ZDgf0DxnFDgLTzxi','C2XPy2u','yxbPx2TLEq','vKLeru8','y2fJAgvKx3DLyL9HChbFAwq','qML6EufPCLDLyKfWCa','BMfTzq','y3jLyxrL','mJrfsvD2ru0','y2fSBgjHy2S','w0DSB2jHBefWCeXPC3rDifjLzNjLC2GGzMfPBgvKoG','C2v0u2L6zq','rMfPBgvK','yML6EwfPCL9WCM9NCMvZCW','D2vIqxbWx2XPC3q','BM9Kzxm','Aw5JBhvKzxm','z2v0tM9Kzuj5swq','CgfYC2u','BgLUA3m','DgfYz2v0x2LK','CMvWB3j0u3rHDhvZ','C2f2zq','zMXVyxq','Dgv4DefSAwDU','DwLFC25HChnOB3q','C3bSAwnL','zgv0ywLSCW','tg9HzcbgywLSzwqGkfn5BMmGtwLZC2LUzYK','Dg9tDhjPBMC','C3r5Bgu','ywrKrxzLBNrmAxn0zw5LCG','oLvUA25VD24','zMLLBgrFDhLWzq','DhjPBq','zMLSBfjLy3q','AxnszwzYzxnOAw5N','Dg9mB3DLCKnHC2u','B25oB2rLq3jLyxrLza','AgfZ','zMv0y2HcyxrJAa','zMv0y2HbCgK','DxbKyxrLsw5WDxrZrM9YqxbW','nZiXnJe1mMLms0LOzW','BgvUz3rO','zMLSBfn0EwXL','yM9VBgvHBG','DxbKyxrLqxbWtgLZDfDPzgDLDa','ywrKv2LKz2v0','B25szw1VDMvK','Dw5YzwDPC3rLCK5Vzgu','zM9UDa','mvDruvH1uG','CMvMCMvZAa','ChjVDg90ExbL','x3jLBMrLCKzYB21eyxrH','Aw50','sw5PDgLHBgL6Aw5NlI4U','DMfYAwfIBgvFBMfTzq','zgvMyxvSDf9HChbZ','D2LKz2v0CW','ywrK','DMfSDwvZ','lI4U','Aw5WDxrFDMfSDwvZx2PZB24','C3rLCa','mJGXnJC0nLPrqLvxAG','D2fYBG','Bg9HzhzPzgvV','rxHLy3v0Aw9UihDHCYbJyw5JzwXSzwqGyNKGDxnLCI4','Aw5WDxrF','zxHLy3v0Aw9Ux2LUDgvYCNvWDgvK','nJeYoda5mfPtCeviuW','yML6EwfPCL9TC2C','C2v0rgLYDhLdyw52yxm','oxz4Du1Tsq','qvbq','DMfYAwfIBgvoyw1L'];a0_0x5a78=function(){return _0x3f8196;};return a0_0x5a78();}const globalAppListManager={'nodes':new Set(),'isRefreshing':![],'lastUIList':[a0_0x9ae8ca(0x1c2)],'registerNode'(_0x3f0087){const _0x61b9be=a0_0x9ae8ca;this[_0x61b9be(0x147)][_0x61b9be(0x175)](_0x3f0087);},'unregisterNode'(_0x3f7f8d){const _0x497534=a0_0x9ae8ca;this[_0x497534(0x147)][_0x497534(0x1a9)](_0x3f7f8d);},async 'refresh'(){const _0x13eee4=a0_0x9ae8ca;if(this[_0x13eee4(0x15c)])return;this[_0x13eee4(0x15c)]=!![];try{const _0x1bfc02=await getApiKey();if(!_0x1bfc02)return;const _0x374648=new Set();for(const _0x37c057 of this[_0x13eee4(0x147)]){const _0x1b6e4f=String(_0x37c057[_0x13eee4(0x1d9)]?.[_0x13eee4(0x146)]||'');_0x1b6e4f[_0x13eee4(0x1b6)](/[\n,]/)[_0x13eee4(0x19d)](_0x27f831=>_0x27f831[_0x13eee4(0x15a)]())[_0x13eee4(0x1bd)](Boolean)[_0x13eee4(0x1d1)](_0x51af2e=>_0x374648[_0x13eee4(0x175)](_0x51af2e));}const _0x327618=await getDefaultAppList();_0x327618[_0x13eee4(0x1d1)](_0x256876=>_0x374648[_0x13eee4(0x175)](_0x256876));const _0x345161=Array['from'](_0x374648);if(_0x345161['length']===0x0){this['lastUIList']=['None'];for(const _0x521d0f of this[_0x13eee4(0x147)])_0x521d0f[_0x13eee4(0x167)](['None']);return;}await appCache[_0x13eee4(0x1aa)](_0x345161,_0x1bfc02);const _0x18cae0=_0x345161[_0x13eee4(0x19d)](_0x3224ff=>{const _0x53331d=_0x13eee4,_0x4a33ae=appCache[_0x53331d(0x18b)][_0x53331d(0x1b7)](_0x3224ff);return _0x4a33ae?_0x3224ff+':'+_0x4a33ae[_0x53331d(0x1e0)]:_0x3224ff+_0x53331d(0x158);});this['lastUIList']=_0x18cae0;for(const _0x4ccbd6 of this[_0x13eee4(0x147)])_0x4ccbd6['updateAppListWidget'](_0x18cae0);}catch(_0x4aeca2){console[_0x13eee4(0x199)](_0x13eee4(0x1e4),_0x4aeca2);}finally{this[_0x13eee4(0x15c)]=![];}}};async function getApiKey(){const _0x5e2b06=a0_0x9ae8ca;try{const _0x1d3bfd=await api[_0x5e2b06(0x161)](_0x5e2b06(0x1d6));if(!_0x1d3bfd['ok'])return null;const _0xd7e0fa=await _0x1d3bfd['json']();return _0xd7e0fa[_0x5e2b06(0x1dc)];}catch{return null;}}async function getDefaultAppList(){const _0x48e0c4=a0_0x9ae8ca;try{const _0x5698df=await api[_0x48e0c4(0x161)](_0x48e0c4(0x1b0));if(!_0x5698df['ok'])return[];const _0x10a802=await _0x5698df['json']();return _0x10a802[_0x48e0c4(0x173)]||[];}catch{return[];}}const WidgetFactory={'create'(_0x14c1fa,_0x4953cc,_0x370514){const _0x54110a=a0_0x9ae8ca,{label:_0x2e1d37,type:_0x440cf5,defaultValue:_0x362d16,options:_0x408d12,variableName:_0x271c6b}=_0x4953cc;let _0x4cc177;if(_0x440cf5===_0x54110a(0x19a)||_0x440cf5===_0x54110a(0x166))_0x4cc177=_0x14c1fa['addWidget'](_0x54110a(0x19a),_0x2e1d37,!!_0x362d16,_0x370514,_0x408d12);else{if(_0x440cf5===_0x54110a(0x187)||_0x440cf5==='dropdown'){const _0x264550=_0x408d12[_0x54110a(0x176)]||[_0x362d16];_0x4cc177=_0x14c1fa[_0x54110a(0x168)](_0x54110a(0x187),_0x2e1d37,_0x362d16,_0x370514,{'values':_0x264550});}else{if(_0x440cf5===_0x54110a(0x18a)){const _0x5e3420=ComfyWidgets[_0x54110a(0x1a7)](_0x14c1fa,_0x2e1d37,[_0x54110a(0x1a7),{'multiline':!![]}],app);_0x4cc177=_0x5e3420['widget'],_0x4cc177[_0x54110a(0x1e3)]=_0x370514;if(_0x4cc177[_0x54110a(0x188)])_0x4cc177[_0x54110a(0x188)][_0x54110a(0x156)][_0x54110a(0x19f)]='';_0x4cc177[_0x54110a(0x190)]=_0x362d16;}else{if(_0x440cf5===_0x54110a(0x14f)||_0x440cf5==='number'||_0x440cf5===_0x54110a(0x170)){let _0x508e9f=Number(_0x362d16);if(isNaN(_0x508e9f))_0x508e9f=0x0;const _0x2cfeaa={};let _0xb51d75=0x1;if(_0x408d12[_0x54110a(0x1a6)]!==undefined)_0xb51d75=Number(_0x408d12['step2']);else{if(_0x408d12['step']!==undefined)_0xb51d75=Number(_0x408d12[_0x54110a(0x179)]);}if(isNaN(_0xb51d75)||_0xb51d75<=0x0)_0xb51d75=0x1;_0x2cfeaa[_0x54110a(0x179)]=_0xb51d75*0xa;if(_0x408d12&&_0x408d12['min']!==undefined){const _0x55d176=Number(_0x408d12[_0x54110a(0x1b2)]);if(!isNaN(_0x55d176))_0x2cfeaa[_0x54110a(0x1b2)]=_0x55d176;}if(_0x408d12&&_0x408d12['max']!==undefined){const _0xc2283=Number(_0x408d12[_0x54110a(0x1b8)]);if(!isNaN(_0xc2283))_0x2cfeaa['max']=_0xc2283;}const _0x5be87c=_0xb51d75[_0x54110a(0x155)]();_0x2cfeaa[_0x54110a(0x1d5)]=_0x5be87c[_0x54110a(0x148)]('.')?_0x5be87c[_0x54110a(0x1b6)]('.')[0x1][_0x54110a(0x164)]:0x0,_0x4cc177=_0x14c1fa[_0x54110a(0x168)](_0x54110a(0x18f),_0x2e1d37,_0x508e9f,_0x9c7fc0=>{_0x370514(),_0x14c1fa['setDirtyCanvas'](!![],![]);},_0x2cfeaa);}else _0x4cc177=_0x14c1fa['addWidget'](_0x54110a(0x1b9),_0x2e1d37,String(_0x362d16),_0x370514,_0x408d12);}}}if(_0x4cc177)_0x4cc177['variableName']=_0x271c6b;return _0x4cc177;}};app['registerExtension']({'name':'CCNotes.BizyAirWebApp',async 'beforeRegisterNodeDef'(_0x3c23dd,_0x4556bf,_0x4bf12d){const _0x43a7a8=a0_0x9ae8ca;if(_0x4556bf[_0x43a7a8(0x1e0)]!==_0x43a7a8(0x1df))return;_0x3c23dd[_0x43a7a8(0x16e)]['onPropertyChanged']=function(_0x27f2dd,_0x2ff41d){const _0x3ddffd=_0x43a7a8;_0x27f2dd===_0x3ddffd(0x146)&&(this[_0x3ddffd(0x1d9)][_0x27f2dd]=_0x2ff41d,globalAppListManager[_0x3ddffd(0x16d)]());};const _0x8ba712=_0x3c23dd[_0x43a7a8(0x16e)][_0x43a7a8(0x15e)];_0x3c23dd[_0x43a7a8(0x16e)]['onNodeCreated']=function(){const _0x273a15=_0x43a7a8;if(_0x8ba712)_0x8ba712['apply'](this,arguments);globalAppListManager[_0x273a15(0x18c)](this),this['_updatingInputs']=![],this['properties']=this[_0x273a15(0x1d9)]||{};if(this[_0x273a15(0x1d9)][_0x273a15(0x146)]===undefined)this[_0x273a15(0x1d9)][_0x273a15(0x146)]='';const _0x153e1=this[_0x273a15(0x174)][_0x273a15(0x18d)](_0x3715d4=>_0x3715d4[_0x273a15(0x1e0)]===_0x273a15(0x184));_0x153e1&&(_0x153e1['callback']=async _0x1b2e1f=>{const _0x1ac795=_0x273a15;if(_0x1b2e1f&&_0x1b2e1f!=='None'){const _0x2254fd=_0x1b2e1f['split'](':')[0x0];await this[_0x1ac795(0x162)](_0x2254fd);}}),setTimeout(()=>{const _0x3a1ebf=_0x273a15;if(this[_0x3a1ebf(0x1d9)][_0x3a1ebf(0x151)])try{this[_0x3a1ebf(0x16f)](this['properties'][_0x3a1ebf(0x151)]);}catch(_0xfeca21){console[_0x3a1ebf(0x17b)](_0x3a1ebf(0x1a5),_0xfeca21);}this['refreshAppList']({'restoreCurrentApp':!![]});},0x10);},_0x3c23dd[_0x43a7a8(0x16e)][_0x43a7a8(0x169)]=function(){const _0x134969=_0x43a7a8;globalAppListManager[_0x134969(0x16a)](this);},_0x3c23dd[_0x43a7a8(0x16e)][_0x43a7a8(0x167)]=function(_0x2f9796){const _0x21c0bc=_0x43a7a8,_0xc99fe6=this[_0x21c0bc(0x174)][_0x21c0bc(0x18d)](_0x26f838=>_0x26f838[_0x21c0bc(0x1e0)]===_0x21c0bc(0x184));if(!_0xc99fe6)return;const _0x1398af=_0xc99fe6[_0x21c0bc(0x190)];_0xc99fe6['options'][_0x21c0bc(0x176)]=_0x2f9796;if(_0x2f9796[_0x21c0bc(0x148)](_0x1398af))_0xc99fe6[_0x21c0bc(0x190)]=_0x1398af;else _0xc99fe6[_0x21c0bc(0x190)]=_0x2f9796[0x0]||_0x21c0bc(0x1c2);this[_0x21c0bc(0x182)](!![]);},_0x3c23dd[_0x43a7a8(0x16e)][_0x43a7a8(0x19e)]=function(_0x1c20cf){const _0x276b13=_0x43a7a8;this[_0x276b13(0x1e7)]>0x0&&this[_0x276b13(0x1e7)]<0x1&&(_0x1c20cf['save'](),_0x1c20cf[_0x276b13(0x165)]='#00FF00',_0x1c20cf[_0x276b13(0x15b)](0x0,0x0,this[_0x276b13(0x1a1)][0x0]*this[_0x276b13(0x1e7)],0x1),_0x1c20cf[_0x276b13(0x1c4)]());if(this[_0x276b13(0x1bf)]){_0x1c20cf[_0x276b13(0x14e)]();let _0x3704f3=this[_0x276b13(0x1bf)];if(_0x3704f3[_0x276b13(0x164)]>0x32)_0x3704f3=_0x3704f3[_0x276b13(0x1d7)](0x0,0x30)+_0x276b13(0x177);_0x1c20cf[_0x276b13(0x16b)]=_0x276b13(0x19b),_0x1c20cf[_0x276b13(0x165)]='#d8d8d8',_0x1c20cf[_0x276b13(0x150)]='right',_0x1c20cf['textBaseline']='top',_0x1c20cf[_0x276b13(0x196)](_0x3704f3,this[_0x276b13(0x1a1)][0x0]-0xa,this[_0x276b13(0x1a1)][0x1]+0xa),_0x1c20cf[_0x276b13(0x1c4)]();}},_0x3c23dd[_0x43a7a8(0x16e)][_0x43a7a8(0x14d)]=function(_0x2d8fff,_0x27f545=0x0){const _0x476076=_0x43a7a8;this[_0x476076(0x1bf)]=_0x2d8fff,this[_0x476076(0x182)](!![],!![]),this[_0x476076(0x1da)]&&(clearTimeout(this['bizyair_status_timer']),this[_0x476076(0x1da)]=null),_0x27f545>0x0&&(this['bizyair_status_timer']=setTimeout(()=>{const _0x4e5cd5=_0x476076;this['bizyair_status']===_0x2d8fff&&(this[_0x4e5cd5(0x1bf)]=null,this['setDirtyCanvas'](!![],!![]));},_0x27f545));},_0x3c23dd[_0x43a7a8(0x16e)][_0x43a7a8(0x1d3)]=async function(_0x1408ae={}){const _0x2fb028=_0x43a7a8,{restoreCurrentApp:restoreCurrentApp=![]}=_0x1408ae;if(restoreCurrentApp){const _0x5850e1=this['widgets']['find'](_0x4478fc=>_0x4478fc['name']===_0x2fb028(0x184));if(_0x5850e1&&_0x5850e1[_0x2fb028(0x190)]&&_0x5850e1[_0x2fb028(0x190)]!==_0x2fb028(0x1c2)){this['reportStatus'](_0x2fb028(0x171));const _0x465f65=_0x5850e1[_0x2fb028(0x190)][_0x2fb028(0x1b6)](':')[0x0],_0x53cab8=await this[_0x2fb028(0x162)](_0x465f65);if(_0x53cab8)this[_0x2fb028(0x14d)]('Ready!',0x3e8);else this[_0x2fb028(0x14d)](null);}}while(globalAppListManager[_0x2fb028(0x15c)])await new Promise(_0x475a45=>setTimeout(_0x475a45,0x32));await globalAppListManager[_0x2fb028(0x16d)]();if(restoreCurrentApp){const _0xcc98e3=this['widgets'][_0x2fb028(0x18d)](_0xeb20f5=>_0xeb20f5[_0x2fb028(0x1e0)]===_0x2fb028(0x184));if(_0xcc98e3&&_0xcc98e3[_0x2fb028(0x190)]&&_0xcc98e3[_0x2fb028(0x190)]!==_0x2fb028(0x1c2)){this[_0x2fb028(0x14d)](_0x2fb028(0x171));const _0x15dc1b=_0xcc98e3[_0x2fb028(0x190)]['split'](':')[0x0],_0x8e39e3=await this[_0x2fb028(0x162)](_0x15dc1b);if(_0x8e39e3)this[_0x2fb028(0x14d)](_0x2fb028(0x192),0x3e8);else this['reportStatus'](null);}else this[_0x2fb028(0x14d)](null);}},_0x3c23dd[_0x43a7a8(0x16e)][_0x43a7a8(0x162)]=async function(_0x126594){const _0x540326=_0x43a7a8;if(this[_0x540326(0x194)])return![];this[_0x540326(0x194)]=!![];try{let _0x24e9be=appCache[_0x540326(0x153)]['get'](_0x126594);if(!_0x24e9be&&globalAppListManager['isRefreshing']){this[_0x540326(0x14d)]('Waiting\x20for\x20Sync...');while(globalAppListManager[_0x540326(0x15c)])await new Promise(_0x4d1150=>setTimeout(_0x4d1150,0x32));_0x24e9be=appCache['details'][_0x540326(0x1b7)](_0x126594);}if(!_0x24e9be)return this[_0x540326(0x14d)](_0x540326(0x154)),![];return this[_0x540326(0x1d9)][_0x540326(0x151)]={'id':_0x24e9be['id'],'name':_0x24e9be[_0x540326(0x1e0)],'input_nodes':_0x24e9be['input_nodes']},this[_0x540326(0x16f)](_0x24e9be);}finally{this[_0x540326(0x194)]=![];}},_0x3c23dd[_0x43a7a8(0x16e)][_0x43a7a8(0x16f)]=function(_0x2a424d){const _0x3267a7=_0x43a7a8;try{const _0xef6ff4=_0x2a424d['id'],_0x333c88=_0x2a424d[_0x3267a7(0x197)]||[];this[_0x3267a7(0x1d9)][_0x3267a7(0x1de)]=String(_0xef6ff4);const _0x524203=[_0x3267a7(0x184),'webApp_list','input_values_json'],_0x1f8217={},_0x37b313={};if(this[_0x3267a7(0x174)])for(const _0x3ca6c4 of this['widgets']){if(!_0x524203[_0x3267a7(0x148)](_0x3ca6c4['name']))_0x37b313[_0x3ca6c4[_0x3267a7(0x1e0)]]=_0x3ca6c4[_0x3267a7(0x190)];}for(let _0x2be468=this['widgets']['length']-0x1;_0x2be468>=0x0;_0x2be468--){const _0x1f988b=this[_0x3267a7(0x174)][_0x2be468];if(!_0x524203['includes'](_0x1f988b[_0x3267a7(0x1e0)])){if(_0x1f988b[_0x3267a7(0x1b1)])_0x1f988b['onRemove']();if(_0x1f988b[_0x3267a7(0x188)])_0x1f988b['inputEl'][_0x3267a7(0x1c3)]();this[_0x3267a7(0x174)][_0x3267a7(0x152)](_0x2be468,0x1);}}const _0x509d89=()=>updateWidgetValues(this,_0x1f8217);let _0xf469ff=0x0,_0x47f6e7=0x0;const _0x32ee66=new Set();for(const _0x54393d of _0x333c88){let _0x14dbc9=_0x54393d[_0x3267a7(0x1cd)]||_0x54393d[_0x3267a7(0x1af)]||_0x54393d['variable_name'];if(_0x32ee66[_0x3267a7(0x15f)](_0x14dbc9))_0x14dbc9=_0x14dbc9+'\x20('+_0x54393d['node_id']+')';_0x32ee66['add'](_0x14dbc9);const _0x45492e=_0x54393d[_0x3267a7(0x172)],_0x40badb=(_0x54393d[_0x3267a7(0x1c5)]||'')[_0x3267a7(0x15d)](),_0x10cd43=_0x54393d[_0x3267a7(0x1c9)],_0x448bca=_0x40badb['includes']('loadimage'),_0x280fde=_0x40badb[_0x3267a7(0x148)](_0x3267a7(0x1c0)),_0x44dc21=_0x40badb[_0x3267a7(0x148)](_0x3267a7(0x17c));if(_0x448bca||_0x280fde||_0x44dc21){let _0x27b92=_0x448bca?'IMAGE':_0x280fde?'AUDIO':_0x3267a7(0x1dd);const _0x22dedb=_0x3267a7(0x17e)+(_0xf469ff+0x1);_0x47f6e7<(this[_0x3267a7(0x1be)]?this[_0x3267a7(0x1be)][_0x3267a7(0x164)]:0x0)?(this['inputs'][_0x47f6e7]['name']=_0x22dedb,this['inputs'][_0x47f6e7][_0x3267a7(0x1b5)]=_0x27b92,this['inputs'][_0x47f6e7][_0x3267a7(0x1d4)]=_0x14dbc9):(this[_0x3267a7(0x1c6)](_0x22dedb,_0x27b92),this['inputs'][this[_0x3267a7(0x1be)][_0x3267a7(0x164)]-0x1][_0x3267a7(0x1d4)]=_0x14dbc9),_0x1f8217[_0x22dedb]=_0x45492e,_0xf469ff++,_0x47f6e7++;}else{let _0x32ff34={};try{if(_0x54393d['field_options'])_0x32ff34=typeof _0x54393d[_0x3267a7(0x191)]===_0x3267a7(0x195)?JSON[_0x3267a7(0x14a)](_0x54393d[_0x3267a7(0x191)]):_0x54393d[_0x3267a7(0x191)];}catch(_0x3961b9){}const _0xdf85b7=WidgetFactory[_0x3267a7(0x1e1)](this,{'label':_0x14dbc9,'type':(_0x54393d[_0x3267a7(0x159)]||'')['toLowerCase'](),'defaultValue':_0x10cd43,'options':_0x32ff34,'variableName':_0x45492e},_0x509d89);if(_0x37b313[_0x14dbc9]!==undefined)_0xdf85b7['value']=_0x37b313[_0x14dbc9];}}if(this[_0x3267a7(0x1be)]){while(this[_0x3267a7(0x1be)][_0x3267a7(0x164)]>_0xf469ff)this[_0x3267a7(0x1a0)](this[_0x3267a7(0x1be)][_0x3267a7(0x164)]-0x1);}if(!this['widgets'][_0x3267a7(0x18d)](_0x5745a4=>_0x5745a4[_0x3267a7(0x1e0)]===_0x3267a7(0x178))){const _0x26cdf5=this[_0x3267a7(0x168)](_0x3267a7(0x1b9),_0x3267a7(0x178),'{}',()=>{});_0x26cdf5['serializeValue']=()=>_0x26cdf5[_0x3267a7(0x190)],_0x26cdf5[_0x3267a7(0x1cf)]=()=>[0x0,-0x4],_0x26cdf5[_0x3267a7(0x1ac)]=()=>{};if(_0x26cdf5[_0x3267a7(0x188)])_0x26cdf5[_0x3267a7(0x188)][_0x3267a7(0x156)][_0x3267a7(0x19f)]='none';}updateWidgetValues(this,_0x1f8217);const _0x1f2171=(_0x2a424d['name']||'')[_0x3267a7(0x15d)]();let _0x32b10c='IMAGE';if(_0x1f2171[_0x3267a7(0x148)](_0x3267a7(0x19c))||_0x1f2171[_0x3267a7(0x148)]('视频'))_0x32b10c=_0x3267a7(0x1dd);else{if(_0x1f2171[_0x3267a7(0x148)](_0x3267a7(0x1ad))||_0x1f2171[_0x3267a7(0x148)]('音频'))_0x32b10c=_0x3267a7(0x1b4);}if(!this[_0x3267a7(0x1ae)]||this['outputs']['length']===0x0)this['addOutput'](_0x32b10c,_0x32b10c),this['outputs'][0x0][_0x3267a7(0x1d4)]=_0x32b10c;else{this['outputs'][0x0][_0x3267a7(0x1e0)]=_0x32b10c,this[_0x3267a7(0x1ae)][0x0][_0x3267a7(0x1d4)]=_0x32b10c,this[_0x3267a7(0x1ae)][0x0][_0x3267a7(0x1b5)]=_0x32b10c;while(this[_0x3267a7(0x1ae)][_0x3267a7(0x164)]>0x1)this[_0x3267a7(0x1ab)](this[_0x3267a7(0x1ae)][_0x3267a7(0x164)]-0x1);}validateConnections(this);const _0x160171=this['computeSize']();return this[_0x3267a7(0x1e5)]([Math[_0x3267a7(0x1b8)](this[_0x3267a7(0x1a1)][0x0],_0x160171[0x0]),_0x160171[0x1]]),this[_0x3267a7(0x182)](!![],!![]),!![];}catch(_0x148a9e){return console[_0x3267a7(0x199)]('[BizyAirWebApp]\x20Render\x20error:',_0x148a9e),![];}};}});function updateWidgetValues(_0x457fe4,_0x3fd172){const _0x1c7137=a0_0x9ae8ca;try{const _0x2c922e={};if(_0x457fe4[_0x1c7137(0x174)])for(const _0x36762d of _0x457fe4['widgets']){if(['web_app_id','input_mapping',_0x1c7137(0x178),_0x1c7137(0x184)][_0x1c7137(0x148)](_0x36762d['name'])||_0x36762d[_0x1c7137(0x1b5)]===_0x1c7137(0x193))continue;const _0x28e300=_0x36762d[_0x1c7137(0x185)]||_0x36762d[_0x1c7137(0x1e0)];_0x2c922e[_0x28e300]=_0x36762d[_0x1c7137(0x190)];}_0x457fe4[_0x1c7137(0x1d9)]&&_0x457fe4[_0x1c7137(0x1d9)][_0x1c7137(0x1de)]&&(_0x2c922e[_0x1c7137(0x1ce)]=_0x457fe4[_0x1c7137(0x1d9)][_0x1c7137(0x1de)]);_0x2c922e[_0x1c7137(0x1ba)]=_0x3fd172;const _0x35a6f6=_0x457fe4[_0x1c7137(0x174)]['find'](_0x2384de=>_0x2384de[_0x1c7137(0x1e0)]===_0x1c7137(0x178));if(_0x35a6f6){const _0x4f59e2=JSON['stringify'](_0x2c922e);_0x35a6f6[_0x1c7137(0x190)]!==_0x4f59e2&&(_0x35a6f6[_0x1c7137(0x190)]=_0x4f59e2);}}catch(_0x49581b){console[_0x1c7137(0x199)]('[BizyAirWebApp]\x20updateWidgetValues\x20error:',_0x49581b);}}function validateConnections(_0x25644c){const _0x7cc34c=a0_0x9ae8ca;_0x25644c[_0x7cc34c(0x1be)]?.[_0x7cc34c(0x1d1)]((_0x491df4,_0x25db97)=>{const _0x141e4f=_0x7cc34c,_0x15cc83=app[_0x141e4f(0x1a2)][_0x141e4f(0x14b)][_0x491df4['link']];if(_0x15cc83&&_0x15cc83[_0x141e4f(0x1b5)]!==_0x491df4[_0x141e4f(0x1b5)]&&_0x491df4[_0x141e4f(0x1b5)]!=='*')_0x25644c[_0x141e4f(0x189)](_0x25db97);}),_0x25644c[_0x7cc34c(0x1ae)]?.[_0x7cc34c(0x1d1)](_0x2e1513=>{const _0x1ada59=_0x7cc34c;_0x2e1513['links']?.[_0x1ada59(0x1db)]()['reverse']()[_0x1ada59(0x1d1)](_0xafa969=>{const _0x282f93=_0x1ada59,_0x30c216=app[_0x282f93(0x1a2)][_0x282f93(0x14b)][_0xafa969];if(_0x30c216){const _0x11b060=app['graph'][_0x282f93(0x149)](_0x30c216[_0x282f93(0x14c)]),_0x4fe2d7=_0x11b060?.[_0x282f93(0x1be)]?.[_0x30c216['target_slot']]?.[_0x282f93(0x1b5)];_0x2e1513[_0x282f93(0x1b5)]!=='*'&&_0x4fe2d7!=='*'&&_0x2e1513['type']!==_0x4fe2d7&&app[_0x282f93(0x1a2)][_0x282f93(0x1d0)](_0xafa969);}});});}