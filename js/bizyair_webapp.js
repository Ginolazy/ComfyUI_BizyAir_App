const a0_0x1a2bfa=a0_0x5598;function a0_0x2946(){const _0x1347b0=['z2v0','u1rssu5h','ywrKt3v0Chv0','Aw5WDxrFDMfSDwvZx2PZB24','Aw5WDxrfBa','y29TChv0zvnPEMu','zMLSBfn0EwXL','BwfW','CMvNAxn0zxjoB2rL','oLvUA25VD24','ywXS','C2vYAwfSAxPLvMfSDwu','zM9YrwfJAa','w0DSB2jHBefWCeXPC3rDifjLzNjLC2GGzMfPBgvKoG','zgv0ywLSCW','zgf0yq','zMLSBfjLy3q','yML6EwfPCL9WCM9NCMvZCW','qvbq','C3r5Bgu','CMvWB3j0u3rHDhvZ','tg9HzcbgywLSzwqGkfn5BMmGtwLZC2LUzYK','C3rLCa','uMvHzhKH','x3vWzgf0Aw5Nsw5WDxrZ','Bg9HzgLTywDL','zMLLBgrFDMfSDwu','y2fSBgjHy2S','BM9Kzv9Pza','C2v0','Dg9tDhjPBMC','yxvKAw8','BgLUAW','ndyWmJq4mezdAKrcCa','BNvTyMvY','qvvesu8','BM9Uzq','otaZmtHxBgLZBfi','B25szw1VDMu','ywrK','C3rYAw5NAwz5','CMvZDg9Yzq','v2fPDgLUzYbMB3iGu3LUyY4UlG','DxbKyxrLqxbWtgLZDfDPzgDLDa','yML6EwfPCL9ZDgf0DxnFDgLTzxi','mtaZmZuZnKT4D25Izq','ChjVDg90ExbL','B3v0Chv0CW','Dw5YzwDPC3rLCK5Vzgu','BgfIzwW','DxbKyxrLsw5WDxrZrM9YqxbW','DhLWzq','mtm3mJu1nNfRAvnIAa','Aw5JBhvKzxm','ChjVCgvYDgLLCW','C2v0rgLYDhLdyw52yxm','Aw5WDxrZ','tM9Uzq','BgvUz3rO','mZm2odC2ogvwweTWDq','Bg9Hzgf1zgLV','Bwf4','zMLLBgrFB3b0Aw9UCW','zxjYB3i','z2v0tM9Kzuj5swq','C3rLCdi','C3bSAxq','BwLU','DMfYAwfIBgvFBMfTzq','zMXVyxq','ywrKv2LKz2v0','zMv0y2HbCgK','D2LKz2v0CW','Aw5WDxrFBwfWCgLUzW','zgvSzxrL','lI4U','rMfPBgvK','BgfZDfvjtgLZDa','C2v0u2L6zq','C3vIC3rYAw5N','zgLZCgXHEq','DMfSDwu','yxbPx2TLEq','ywrKrxzLBNrmAxn0zw5LCG','zNjVBq','yM9VBgvHBG','C2L6zq','y3jLyxrL','CMvTB3zLsw5WDxq','iZaWrKyWma','AxnszwzYzxnOAw5N','y2fJAgvKx3DLyL9HChbFAwq','ywrKsw5WDxq','DMfSDwvZ','BMfTzq','y29TyM8','w0jPENLbAxjxzwjbChbDihvWzgf0zvDPzgDLDfzHBhvLCYbLCNjVCJO','CMvTB3zLtgLUAW','A2v5CW','mJy0oda4nhrxBgPnEa','i2q4zdHKoa','DwLFC25HChnOB3q','C2f2zq','y29TzNLdBgfZCW','ANnVBG','y29UDMvYDgvKlxDPzgDLDa','CMvNAxn0zxjfEhrLBNnPB24','qML6EufPCLDLyKfWCa','D2vIqxbWx2XPC3q','vKLeru8','yML6EwfPCL9ZDgf0Dxm','Aw5WDxrF','BM9Kzxm','CMvMCMvZAefWCeXPC3q','Bwv0ywrHDge','C3rYAw5N','w0jPENLbAxjxzwjbChbDifnUyxbZAg90ihjLC3rVCMuGzMfPBgvKoG','zhjHDW','zMLUza','CMvMCMvZAa','yML6EwfPCL9TC2C','DgfYz2v0x3nSB3q','Aw5WDxrFBM9Kzxm','sw5PDgLHBgL6Aw5NlI4U','zMLSBfrLEhq','ChjLy2LZAw9U','x3bVCNrFBwfW','B25oB2rLq3jLyxrLza','l2jPENLHAxjFD2vIyxbWl2DLDf9HCgLFA2v5','BgLUA3m','B25qCM9Wzxj0EunOyw5Nzwq','DMfYAwfIBgvoyw1L','Dg9Nz2XL','x3jLBMrLCKzYB21eyxrH','DhjPBq','zhjVCgrVD24','CMLNAhq','zMLLBgrFDhLWzq','zgvMyxvSDf9HChbZ','Ahr0Chm6lY9HCgKUyML6EwfPCI5JBI94l3yXl3DLyMfWCc8','BM9Kzv90ExbL','CgfYC2u','Bg9HzhzPzgvV','AgfZ','Dg9mB3DLCKnHC2u','D2LKz2v0','Dgv4DefSAwDU','CMvTB3zL','zMLLBgrFBgfIzwW','DxbKyxrL','C3bSAwnL','z3jHCgG','zMv0y2HcyxrJAa','B3b0Aw9UCW','su1br0u','rxHLy3v0Aw9UihDHCYbJyw5JzwXSzwqGyNKGDxnLCI4','u3vJy2vZCW','B25szw1VDMvK','zM9UDa','ndC2otiXouLMvuLnqq','DgfYz2v0x2LK'];a0_0x2946=function(){return _0x1347b0;};return a0_0x2946();}(function(_0x9dbd88,_0x1686e5){const _0x38dffc=a0_0x5598,_0x15d3c8=_0x9dbd88();while(!![]){try{const _0x340d06=parseInt(_0x38dffc(0xf3))/0x1+-parseInt(_0x38dffc(0xfa))/0x2+parseInt(_0x38dffc(0xec))/0x3+-parseInt(_0x38dffc(0x122))/0x4+parseInt(_0x38dffc(0xe0))/0x5+parseInt(_0x38dffc(0xe4))/0x6+parseInt(_0x38dffc(0x15e))/0x7;if(_0x340d06===_0x1686e5)break;else _0x15d3c8['push'](_0x15d3c8['shift']());}catch(_0x3daf27){_0x15d3c8['push'](_0x15d3c8['shift']());}}}(a0_0x2946,0xf1189));import{app}from'../../../scripts/app.js';import{api}from'../../../scripts/api.js';import{ComfyWidgets}from'../../../scripts/widgets.js';const appCache={'metadata':new Map(),'details':new Map(),async 'update'(_0x5b2ac0,_0x458bfa){const _0x56e65d=a0_0x5598,_0x479877=new Set(_0x5b2ac0);for(const _0xcfe15e of this[_0x56e65d(0x131)][_0x56e65d(0x121)]()){!_0x479877[_0x56e65d(0x14e)](_0xcfe15e)&&(this[_0x56e65d(0x131)][_0x56e65d(0x109)](_0xcfe15e),this[_0x56e65d(0x16e)][_0x56e65d(0x109)](_0xcfe15e));}const _0x50588b=_0x5b2ac0['filter'](_0x2d0462=>!this[_0x56e65d(0x16e)]['has'](_0x2d0462));_0x50588b[_0x56e65d(0xf9)]>0x0&&await this[_0x56e65d(0x157)](_0x50588b,_0x458bfa);},async 'fetchBatch'(_0x54b55e,_0x5cfef5){const _0x22914b=a0_0x5598,_0x37396f=_0x54b55e[_0x22914b(0x167)](_0xbe6ab1=>{const _0x288f74=_0x22914b;if(pendingRequests[_0x288f74(0x16e)][_0x288f74(0x14e)](_0xbe6ab1))return pendingRequests[_0x288f74(0x16e)][_0x288f74(0x160)](_0xbe6ab1);const _0x40dd98=((async()=>{const _0x5dea46=_0x288f74;try{const _0xbe2c3d=await fetch(_0x5dea46(0x14a)+_0xbe6ab1,{'headers':{'Authorization':'Bearer\x20'+_0x5cfef5}}),_0x1e04f3=await _0xbe2c3d['json']();if(_0x1e04f3['code']===0x4e20&&_0x1e04f3[_0x5dea46(0x16f)]){const _0x1e5987=_0x1e04f3[_0x5dea46(0x16f)];return this[_0x5dea46(0x131)][_0x5dea46(0x17d)](_0xbe6ab1,{'id':_0x1e5987['id'],'name':_0x1e5987[_0x5dea46(0x11d)]}),this[_0x5dea46(0x16e)][_0x5dea46(0x17d)](_0xbe6ab1,_0x1e5987),_0x1e5987;}return null;}catch(_0xe88a4c){return console[_0x5dea46(0xfe)]('[AppCache]\x20Error\x20fetching\x20app\x20'+_0xbe6ab1+':',_0xe88a4c),null;}finally{pendingRequests[_0x5dea46(0x16e)][_0x5dea46(0x109)](_0xbe6ab1);}})());return pendingRequests[_0x288f74(0x16e)][_0x288f74(0x17d)](_0xbe6ab1,_0x40dd98),_0x40dd98;});await Promise[_0x22914b(0x16a)](_0x37396f);}},pendingRequests={'details':new Map()};api[a0_0x1a2bfa(0x112)]('bizyair_progress',({detail:_0x301f7b})=>{const _0x31329f=a0_0x1a2bfa,{node_id:_0x5ecf21,progress:_0x538369,status:_0x46f8ca,msg:_0x985dcb}=_0x301f7b,_0x4284bb=app[_0x31329f(0x156)][_0x31329f(0xff)](_0x5ecf21);_0x4284bb&&(_0x4284bb[_0x31329f(0xeb)]&&(clearTimeout(_0x4284bb['bizyair_status_timer']),_0x4284bb[_0x31329f(0xeb)]=null),_0x4284bb['bizyair_progress']=_0x538369,_0x4284bb[_0x31329f(0x12d)]=_0x46f8ca,_0x4284bb[_0x31329f(0x137)]=_0x985dcb,_0x4284bb[_0x31329f(0xf6)](!![],!![]),(_0x46f8ca===_0x31329f(0x15b)||_0x538369===0x1&&_0x46f8ca!==_0x31329f(0x10b))&&(_0x4284bb[_0x31329f(0xeb)]=setTimeout(()=>{const _0x14180b=_0x31329f;_0x4284bb[_0x14180b(0x171)]=0x0,_0x4284bb[_0x14180b(0x12d)]=null,_0x4284bb[_0x14180b(0x137)]=null,_0x4284bb['setDirtyCanvas'](!![],!![]);},0x7d0)));}),api[a0_0x1a2bfa(0x112)]('execution_interrupted',({detail:_0x4b5b7c})=>{const _0xb46270=a0_0x1a2bfa,{node_id:_0x330f47}=_0x4b5b7c,_0x5f8f70=app[_0xb46270(0x156)]['getNodeById'](_0x330f47);if(_0x5f8f70&&_0x5f8f70[_0xb46270(0x126)]===_0xb46270(0x12a)){_0x5f8f70['bizyair_progress']=0x0,_0x5f8f70[_0xb46270(0x12d)]='Interrupted',_0x5f8f70[_0xb46270(0x137)]=_0xb46270(0x15a),_0x5f8f70['setDirtyCanvas'](!![],!![]);if(_0x5f8f70[_0xb46270(0xeb)])clearTimeout(_0x5f8f70['bizyair_status_timer']);_0x5f8f70['bizyair_status_timer']=setTimeout(()=>{const _0x315492=_0xb46270;_0x5f8f70[_0x315492(0x12d)]=null,_0x5f8f70[_0x315492(0x137)]=null,_0x5f8f70[_0x315492(0xf6)](!![],!![]);},0xbb8);}});const globalAppListManager={'nodes':new Set(),'isRefreshing':![],'lastUIList':[a0_0x1a2bfa(0xf8)],'registerNode'(_0x550774){const _0xf79e3b=a0_0x1a2bfa;this[_0xf79e3b(0x12f)][_0xf79e3b(0xe6)](_0x550774);},'unregisterNode'(_0x5877f4){const _0xf3e330=a0_0x1a2bfa;this[_0xf3e330(0x12f)][_0xf3e330(0x109)](_0x5877f4);},async 'refresh'(){const _0xfa6e0c=a0_0x1a2bfa;if(this[_0xfa6e0c(0x119)])return;this[_0xfa6e0c(0x119)]=!![];try{const _0x3641bb=await getApiKey();if(!_0x3641bb)return;const _0x21c16c=new Set();for(const _0x510c33 of this['nodes']){const _0x1f97b2=String(_0x510c33[_0xfa6e0c(0xf5)]?.[_0xfa6e0c(0x12b)]||'');_0x1f97b2[_0xfa6e0c(0x101)](/[\n,]/)[_0xfa6e0c(0x167)](_0x187bbb=>_0x187bbb[_0xfa6e0c(0x145)]())['filter'](Boolean)['forEach'](_0x15a380=>_0x21c16c[_0xfa6e0c(0xe6)](_0x15a380));}const _0x4b6764=await getDefaultAppList();_0x4b6764['forEach'](_0x50f945=>_0x21c16c['add'](_0x50f945));const _0x56f5be=Array[_0xfa6e0c(0x113)](_0x21c16c);if(_0x56f5be[_0xfa6e0c(0xf9)]===0x0){this[_0xfa6e0c(0x10c)]=[_0xfa6e0c(0xf8)];for(const _0x2c4da8 of this[_0xfa6e0c(0x12f)])_0x2c4da8['updateAppListWidget'](['None']);return;}await appCache[_0xfa6e0c(0x154)](_0x56f5be,_0x3641bb);const _0x58acf1=_0x56f5be['map'](_0x4b6395=>{const _0x1f3472=_0xfa6e0c,_0x539283=appCache['metadata'][_0x1f3472(0x160)](_0x4b6395);return _0x539283?_0x4b6395+':'+_0x539283[_0x1f3472(0x11d)]:_0x4b6395+_0x1f3472(0x169);});this[_0xfa6e0c(0x10c)]=_0x58acf1;for(const _0x5ba67f of this['nodes'])_0x5ba67f['updateAppListWidget'](_0x58acf1);}catch(_0x58bee1){console['error'](_0xfa6e0c(0x16d),_0x58bee1);}finally{this[_0xfa6e0c(0x119)]=![];}}};async function getApiKey(){const _0x495921=a0_0x1a2bfa;try{const _0x3ccf94=await api[_0x495921(0x106)](_0x495921(0x13f));if(!_0x3ccf94['ok'])return null;const _0x332759=await _0x3ccf94[_0x495921(0x127)]();return _0x332759[_0x495921(0x111)];}catch{return null;}}async function getDefaultAppList(){const _0x21043b=a0_0x1a2bfa;try{const _0x7ab603=await api[_0x21043b(0x106)]('/bizyair_webapp/default_app_list');if(!_0x7ab603['ok'])return[];const _0x5e4fa3=await _0x7ab603[_0x21043b(0x127)]();return _0x5e4fa3[_0x21043b(0x149)]||[];}catch{return[];}}const WidgetFactory={'create'(_0x5867e9,_0x437041,_0x150334){const _0x295e11=a0_0x1a2bfa,{label:_0x176b30,type:_0x3412b6,defaultValue:_0x13aab8,options:_0x270b43,variableName:_0x449923}=_0x437041;let _0x4b193a;if(_0x3412b6==='toggle'||_0x3412b6===_0x295e11(0x114))_0x4b193a=_0x5867e9['addWidget'](_0x295e11(0x143),_0x176b30,!!_0x13aab8,_0x150334,_0x270b43);else{if(_0x3412b6===_0x295e11(0x11e)||_0x3412b6===_0x295e11(0x146)){const _0x5a6404=_0x270b43[_0x295e11(0x11c)]||[_0x13aab8];_0x4b193a=_0x5867e9[_0x295e11(0x105)](_0x295e11(0x11e),_0x176b30,_0x13aab8,_0x150334,{'values':_0x5a6404});}else{if(_0x3412b6==='customtext'){const _0x4e9cab=ComfyWidgets[_0x295e11(0x161)](_0x5867e9,_0x176b30,['STRING',{'multiline':!![]}],app);_0x4b193a=_0x4e9cab[_0x295e11(0x150)],_0x4b193a[_0x295e11(0x17b)]=_0x150334;if(_0x4b193a['inputEl'])_0x4b193a[_0x295e11(0x164)][_0x295e11(0x173)][_0x295e11(0x10f)]='';_0x4b193a[_0x295e11(0x110)]=_0x13aab8;}else{if(_0x3412b6===_0x295e11(0x104)||_0x3412b6===_0x295e11(0xe1)||_0x3412b6==='int'){let _0x4437a9=Number(_0x13aab8);if(isNaN(_0x4437a9))_0x4437a9=0x0;const _0x1efb8b={};let _0x21ac0e=0x1;if(_0x270b43[_0x295e11(0x100)]!==undefined)_0x21ac0e=Number(_0x270b43[_0x295e11(0x100)]);else{if(_0x270b43[_0x295e11(0x176)]!==undefined)_0x21ac0e=Number(_0x270b43['step']);}if(isNaN(_0x21ac0e)||_0x21ac0e<=0x0)_0x21ac0e=0x1;_0x1efb8b['step']=_0x21ac0e*0xa;if(_0x270b43&&_0x270b43[_0x295e11(0x102)]!==undefined){const _0x3accc2=Number(_0x270b43[_0x295e11(0x102)]);if(!isNaN(_0x3accc2))_0x1efb8b['min']=_0x3accc2;}if(_0x270b43&&_0x270b43[_0x295e11(0xfc)]!==undefined){const _0x40d146=Number(_0x270b43['max']);if(!isNaN(_0x40d146))_0x1efb8b[_0x295e11(0xfc)]=_0x40d146;}const _0x12e2c0=_0x21ac0e[_0x295e11(0x17e)]();_0x1efb8b[_0x295e11(0x13c)]=_0x12e2c0[_0x295e11(0xf4)]('.')?_0x12e2c0[_0x295e11(0x101)]('.')[0x1]['length']:0x0,_0x4b193a=_0x5867e9['addWidget']('number',_0x176b30,_0x4437a9,_0x2f4cc1=>{const _0x3022a6=_0x295e11;_0x150334(),_0x5867e9[_0x3022a6(0xf6)](!![],![]);},_0x1efb8b);}else _0x4b193a=_0x5867e9[_0x295e11(0x105)]('text',_0x176b30,String(_0x13aab8),_0x150334,_0x270b43);}}}if(_0x4b193a)_0x4b193a[_0x295e11(0x142)]=_0x449923;return _0x4b193a;}};app[a0_0x1a2bfa(0x129)]({'name':'CCNotes.BizyAirWebApp',async 'beforeRegisterNodeDef'(_0x8900a5,_0x293ab8,_0x2502cc){const _0x654f3c=a0_0x1a2bfa;if(_0x293ab8['name']!==_0x654f3c(0x12a))return;_0x8900a5['prototype'][_0x654f3c(0x141)]=function(_0x53954a,_0x277244){const _0x1820d6=_0x654f3c;_0x53954a===_0x1820d6(0x12b)&&(this[_0x1820d6(0xf5)][_0x53954a]=_0x277244,globalAppListManager[_0x1820d6(0x136)]());};const _0x592908=_0x8900a5[_0x654f3c(0xed)][_0x654f3c(0x13e)];_0x8900a5['prototype']['onNodeCreated']=function(){const _0x19a52b=_0x654f3c;if(_0x592908)_0x592908['apply'](this,arguments);globalAppListManager[_0x19a52b(0x168)](this),this[_0x19a52b(0x178)]=![],this[_0x19a52b(0xf5)]=this[_0x19a52b(0xf5)]||{};if(this['properties']['webApp_list']===undefined)this[_0x19a52b(0xf5)][_0x19a52b(0x12b)]='';const _0x3364d0=this[_0x19a52b(0x107)][_0x19a52b(0x135)](_0x457deb=>_0x457deb[_0x19a52b(0x11d)]===_0x19a52b(0x172));_0x3364d0&&(_0x3364d0[_0x19a52b(0x17b)]=async _0x336912=>{const _0x29814c=_0x19a52b;if(_0x336912&&_0x336912!==_0x29814c(0xf8)){const _0x275b0a=_0x336912[_0x29814c(0x101)](':')[0x0];await this[_0x29814c(0xf1)](_0x275b0a);}}),setTimeout(()=>{const _0x4f0fc9=_0x19a52b;if(this[_0x4f0fc9(0xf5)][_0x4f0fc9(0x124)])try{this['_renderFromData'](this[_0x4f0fc9(0xf5)]['ui_snapshot']);}catch(_0x2bcebd){console['warn'](_0x4f0fc9(0x133),_0x2bcebd);}this[_0x4f0fc9(0x130)]({'restoreCurrentApp':!![]});},0x10);},_0x8900a5['prototype'][_0x654f3c(0x15c)]=function(){const _0x2521a6=_0x654f3c;globalAppListManager[_0x2521a6(0xef)](this);},_0x8900a5['prototype'][_0x654f3c(0xea)]=function(_0x2ba0a9){const _0x19e9e2=_0x654f3c,_0x130583=this['widgets'][_0x19e9e2(0x135)](_0x5c9530=>_0x5c9530[_0x19e9e2(0x11d)]===_0x19e9e2(0x172));if(!_0x130583)return;const _0x3fd14d=_0x130583['value'];_0x130583[_0x19e9e2(0x158)]['values']=_0x2ba0a9;if(_0x2ba0a9[_0x19e9e2(0xf4)](_0x3fd14d))_0x130583[_0x19e9e2(0x110)]=_0x3fd14d;else _0x130583[_0x19e9e2(0x110)]=_0x2ba0a9[0x0]||'None';this[_0x19e9e2(0xf6)](!![]);},_0x8900a5[_0x654f3c(0xed)]['onDrawForeground']=function(_0x4eb3c7){const _0xb3937e=_0x654f3c;this[_0xb3937e(0x171)]>0x0&&this['bizyair_progress']<0x1&&(_0x4eb3c7[_0xb3937e(0x125)](),_0x4eb3c7['fillStyle']=_0xb3937e(0x118),_0x4eb3c7[_0xb3937e(0x170)](0x0,0x0,this[_0xb3937e(0x115)][0x0]*this['bizyair_progress'],0x1),_0x4eb3c7[_0xb3937e(0xe8)]());if(this[_0xb3937e(0x12d)]){_0x4eb3c7[_0xb3937e(0x125)]();let _0x5c897a=this[_0xb3937e(0x12d)];if(_0x5c897a[_0xb3937e(0xf9)]>0x32)_0x5c897a=_0x5c897a[_0xb3937e(0x10e)](0x0,0x30)+_0xb3937e(0x10a);_0x4eb3c7[_0xb3937e(0x15d)]='10px\x20Arial',_0x4eb3c7[_0xb3937e(0x166)]=_0xb3937e(0x123),_0x4eb3c7[_0xb3937e(0x151)]=_0xb3937e(0x147),_0x4eb3c7['textBaseline']='top',_0x4eb3c7[_0xb3937e(0x13b)](_0x5c897a,this[_0xb3937e(0x115)][0x0]-0xa,this[_0xb3937e(0x115)][0x1]+0xa),_0x4eb3c7['restore']();}},_0x8900a5[_0x654f3c(0xed)][_0x654f3c(0x174)]=function(_0x5c82ba,_0x2f2691=0x0){const _0x52a7cd=_0x654f3c;this[_0x52a7cd(0x12d)]=_0x5c82ba,this[_0x52a7cd(0xf6)](!![],!![]),this[_0x52a7cd(0xeb)]&&(clearTimeout(this['bizyair_status_timer']),this[_0x52a7cd(0xeb)]=null),_0x2f2691>0x0&&(this['bizyair_status_timer']=setTimeout(()=>{const _0x1be642=_0x52a7cd;this['bizyair_status']===_0x5c82ba&&(this[_0x1be642(0x12d)]=null,this[_0x1be642(0xf6)](!![],!![]));},_0x2f2691));},_0x8900a5[_0x654f3c(0xed)][_0x654f3c(0x130)]=async function(_0x82ac6f={}){const _0x183a3e=_0x654f3c,{restoreCurrentApp:restoreCurrentApp=![]}=_0x82ac6f;if(restoreCurrentApp){const _0x5ae1db=this[_0x183a3e(0x107)]['find'](_0xf1c631=>_0xf1c631[_0x183a3e(0x11d)]===_0x183a3e(0x172));if(_0x5ae1db&&_0x5ae1db[_0x183a3e(0x110)]&&_0x5ae1db['value']!==_0x183a3e(0xf8)){this[_0x183a3e(0x174)](_0x183a3e(0x13a));const _0x3c3ed4=_0x5ae1db['value'][_0x183a3e(0x101)](':')[0x0],_0x4c6dfa=await this[_0x183a3e(0xf1)](_0x3c3ed4);if(_0x4c6dfa)this[_0x183a3e(0x174)](_0x183a3e(0x177),0x3e8);else this[_0x183a3e(0x174)](null);}}while(globalAppListManager[_0x183a3e(0x119)])await new Promise(_0x213872=>setTimeout(_0x213872,0x32));await globalAppListManager[_0x183a3e(0x136)]();if(restoreCurrentApp){const _0x14fae4=this[_0x183a3e(0x107)][_0x183a3e(0x135)](_0x1d7bab=>_0x1d7bab[_0x183a3e(0x11d)]===_0x183a3e(0x172));if(_0x14fae4&&_0x14fae4[_0x183a3e(0x110)]&&_0x14fae4['value']!=='None'){this[_0x183a3e(0x174)]('Initializing...');const _0x3e6488=_0x14fae4[_0x183a3e(0x110)][_0x183a3e(0x101)](':')[0x0],_0x1ff7db=await this[_0x183a3e(0xf1)](_0x3e6488);if(_0x1ff7db)this[_0x183a3e(0x174)]('Ready!',0x3e8);else this[_0x183a3e(0x174)](null);}else this[_0x183a3e(0x174)](null);}},_0x8900a5[_0x654f3c(0xed)][_0x654f3c(0xf1)]=async function(_0x16eef7){const _0x21d2aa=_0x654f3c;if(this[_0x21d2aa(0x178)])return![];this['_updatingInputs']=!![];try{let _0x213208=appCache[_0x21d2aa(0x16e)]['get'](_0x16eef7);if(!_0x213208&&globalAppListManager[_0x21d2aa(0x119)]){this[_0x21d2aa(0x174)](_0x21d2aa(0xe9));while(globalAppListManager[_0x21d2aa(0x119)])await new Promise(_0x21ecb9=>setTimeout(_0x21ecb9,0x32));_0x213208=appCache[_0x21d2aa(0x16e)][_0x21d2aa(0x160)](_0x16eef7);}if(!_0x213208)return this[_0x21d2aa(0x174)](_0x21d2aa(0x175)),![];return this['properties'][_0x21d2aa(0x124)]={'id':_0x213208['id'],'name':_0x213208[_0x21d2aa(0x11d)],'input_nodes':_0x213208[_0x21d2aa(0x139)]},this[_0x21d2aa(0x144)](_0x213208);}finally{this['_updatingInputs']=![];}},_0x8900a5['prototype'][_0x654f3c(0x144)]=function(_0x37e208){const _0x3a212e=_0x654f3c;try{const _0x501ca0=_0x37e208['id'],_0x4507af=_0x37e208[_0x3a212e(0x139)]||[];this['properties'][_0x3a212e(0x11a)]=String(_0x501ca0);const _0x98e532=[_0x3a212e(0x172),'webApp_list',_0x3a212e(0x163)],_0x5b93ec={},_0x24e84b={};if(this[_0x3a212e(0x107)])for(const _0x1f704f of this['widgets']){if(!_0x98e532['includes'](_0x1f704f[_0x3a212e(0x11d)]))_0x24e84b[_0x1f704f[_0x3a212e(0x11d)]]=_0x1f704f['value'];}for(let _0x18b4dc=this[_0x3a212e(0x107)]['length']-0x1;_0x18b4dc>=0x0;_0x18b4dc--){const _0x656c86=this[_0x3a212e(0x107)][_0x18b4dc];if(!_0x98e532[_0x3a212e(0xf4)](_0x656c86['name'])){if(_0x656c86[_0x3a212e(0xe5)])_0x656c86['onRemove']();if(_0x656c86[_0x3a212e(0x164)])_0x656c86[_0x3a212e(0x164)][_0x3a212e(0x152)]();this['widgets'][_0x3a212e(0x155)](_0x18b4dc,0x1);}}const _0x4d1e70=()=>updateWidgetValues(this,_0x5b93ec);let _0x31f1ba=0x0,_0x28e5f2=0x0;const _0x2f3e0d=new Set();for(const _0x501e00 of _0x4507af){let _0x408c0b=_0x501e00[_0x3a212e(0x153)]||_0x501e00['node_name']||_0x501e00[_0x3a212e(0x103)];if(_0x2f3e0d[_0x3a212e(0x14e)](_0x408c0b))_0x408c0b=_0x408c0b+'\x20('+_0x501e00[_0x3a212e(0x17c)]+')';_0x2f3e0d[_0x3a212e(0xe6)](_0x408c0b);const _0x106a59=_0x501e00['variable_name'],_0x3d77c5=(_0x501e00[_0x3a212e(0x14b)]||'')[_0x3a212e(0x14f)](),_0x36fb3e=_0x501e00[_0x3a212e(0x17a)],_0xbbb99=_0x3d77c5['includes'](_0x3a212e(0x179)),_0x246684=_0x3d77c5['includes'](_0x3a212e(0xfb)),_0x28b62b=_0x3d77c5['includes'](_0x3a212e(0x14d));if(_0xbbb99||_0x246684||_0x28b62b){let _0x4ae5b6=_0xbbb99?_0x3a212e(0x159):_0x246684?_0x3a212e(0xe2):_0x3a212e(0x12c);const _0x56ff2a=_0x3a212e(0x12e)+(_0x31f1ba+0x1);_0x28e5f2<(this[_0x3a212e(0xf7)]?this[_0x3a212e(0xf7)][_0x3a212e(0xf9)]:0x0)?(this[_0x3a212e(0xf7)][_0x28e5f2][_0x3a212e(0x11d)]=_0x56ff2a,this[_0x3a212e(0xf7)][_0x28e5f2][_0x3a212e(0xf2)]=_0x4ae5b6,this[_0x3a212e(0xf7)][_0x28e5f2]['label']=_0x408c0b):(this[_0x3a212e(0x11b)](_0x56ff2a,_0x4ae5b6),this[_0x3a212e(0xf7)][this['inputs'][_0x3a212e(0xf9)]-0x1]['label']=_0x408c0b),_0x5b93ec[_0x56ff2a]=_0x106a59,_0x31f1ba++,_0x28e5f2++;}else{let _0x234d88={};try{if(_0x501e00[_0x3a212e(0xfd)])_0x234d88=typeof _0x501e00[_0x3a212e(0xfd)]===_0x3a212e(0x132)?JSON[_0x3a212e(0x14c)](_0x501e00[_0x3a212e(0xfd)]):_0x501e00[_0x3a212e(0xfd)];}catch(_0x2b9943){}const _0x547b37=WidgetFactory[_0x3a212e(0x116)](this,{'label':_0x408c0b,'type':(_0x501e00[_0x3a212e(0x148)]||'')['toLowerCase'](),'defaultValue':_0x36fb3e,'options':_0x234d88,'variableName':_0x106a59},_0x4d1e70);if(_0x24e84b[_0x408c0b]!==undefined)_0x547b37[_0x3a212e(0x110)]=_0x24e84b[_0x408c0b];}}if(this[_0x3a212e(0xf7)]){while(this[_0x3a212e(0xf7)]['length']>_0x31f1ba)this[_0x3a212e(0x117)](this[_0x3a212e(0xf7)][_0x3a212e(0xf9)]-0x1);}if(!this['widgets'][_0x3a212e(0x135)](_0x331f0c=>_0x331f0c[_0x3a212e(0x11d)]===_0x3a212e(0x163))){const _0x2b7ee8=this[_0x3a212e(0x105)]('text',_0x3a212e(0x163),'{}',()=>{});_0x2b7ee8[_0x3a212e(0x16b)]=()=>_0x2b7ee8[_0x3a212e(0x110)],_0x2b7ee8[_0x3a212e(0x165)]=()=>[0x0,-0x4],_0x2b7ee8[_0x3a212e(0x134)]=()=>{};if(_0x2b7ee8[_0x3a212e(0x164)])_0x2b7ee8['inputEl'][_0x3a212e(0x173)][_0x3a212e(0x10f)]=_0x3a212e(0xe3);}updateWidgetValues(this,_0x5b93ec);const _0x4dceeb=(_0x37e208[_0x3a212e(0x11d)]||'')[_0x3a212e(0x14f)]();let _0x62cfc9=_0x3a212e(0x159);if(_0x4dceeb[_0x3a212e(0xf4)]('video')||_0x4dceeb[_0x3a212e(0xf4)]('视频'))_0x62cfc9='VIDEO';else{if(_0x4dceeb['includes'](_0x3a212e(0x17f))||_0x4dceeb[_0x3a212e(0xf4)]('音频'))_0x62cfc9=_0x3a212e(0xe2);}if(!this[_0x3a212e(0xee)]||this[_0x3a212e(0xee)][_0x3a212e(0xf9)]===0x0)this[_0x3a212e(0x162)](_0x62cfc9,_0x62cfc9),this[_0x3a212e(0xee)][0x0][_0x3a212e(0xf0)]=_0x62cfc9;else{this[_0x3a212e(0xee)][0x0][_0x3a212e(0x11d)]=_0x62cfc9,this['outputs'][0x0][_0x3a212e(0xf0)]=_0x62cfc9,this[_0x3a212e(0xee)][0x0][_0x3a212e(0xf2)]=_0x62cfc9;while(this[_0x3a212e(0xee)]['length']>0x1)this['removeOutput'](this['outputs']['length']-0x1);}validateConnections(this);const _0x4e3060=this['computeSize']();return this[_0x3a212e(0x10d)]([Math[_0x3a212e(0xfc)](this['size'][0x0],_0x4e3060[0x0]),_0x4e3060[0x1]]),this[_0x3a212e(0xf6)](!![],!![]),!![];}catch(_0x483ce0){return console[_0x3a212e(0xfe)]('[BizyAirWebApp]\x20Render\x20error:',_0x483ce0),![];}};}});function a0_0x5598(_0x5deb69,_0x2d50e0){_0x5deb69=_0x5deb69-0xe0;const _0x294637=a0_0x2946();let _0x559885=_0x294637[_0x5deb69];if(a0_0x5598['gtYxIu']===undefined){var _0x216e8d=function(_0x13be84){const _0x5ad20f='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5b2ac0='',_0x458bfa='';for(let _0x479877=0x0,_0x50588b,_0xcfe15e,_0x2d0462=0x0;_0xcfe15e=_0x13be84['charAt'](_0x2d0462++);~_0xcfe15e&&(_0x50588b=_0x479877%0x4?_0x50588b*0x40+_0xcfe15e:_0xcfe15e,_0x479877++%0x4)?_0x5b2ac0+=String['fromCharCode'](0xff&_0x50588b>>(-0x2*_0x479877&0x6)):0x0){_0xcfe15e=_0x5ad20f['indexOf'](_0xcfe15e);}for(let _0x54b55e=0x0,_0x5cfef5=_0x5b2ac0['length'];_0x54b55e<_0x5cfef5;_0x54b55e++){_0x458bfa+='%'+('00'+_0x5b2ac0['charCodeAt'](_0x54b55e)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x458bfa);};a0_0x5598['MDdmVB']=_0x216e8d,a0_0x5598['BBLwyN']={},a0_0x5598['gtYxIu']=!![];}const _0x1a0661=_0x294637[0x0],_0x50181e=_0x5deb69+_0x1a0661,_0x1c4280=a0_0x5598['BBLwyN'][_0x50181e];return!_0x1c4280?(_0x559885=a0_0x5598['MDdmVB'](_0x559885),a0_0x5598['BBLwyN'][_0x50181e]=_0x559885):_0x559885=_0x1c4280,_0x559885;}function updateWidgetValues(_0x1f91f2,_0x17cc0c){const _0x3c6623=a0_0x1a2bfa;try{const _0x2442d8={};if(_0x1f91f2['widgets'])for(const _0x5472e0 of _0x1f91f2[_0x3c6623(0x107)]){if(['web_app_id',_0x3c6623(0x108),_0x3c6623(0x163),_0x3c6623(0x172)][_0x3c6623(0xf4)](_0x5472e0[_0x3c6623(0x11d)])||_0x5472e0[_0x3c6623(0xf2)]===_0x3c6623(0x128))continue;const _0x443ee4=_0x5472e0[_0x3c6623(0x142)]||_0x5472e0[_0x3c6623(0x11d)];_0x2442d8[_0x443ee4]=_0x5472e0[_0x3c6623(0x110)];}_0x1f91f2[_0x3c6623(0xf5)]&&_0x1f91f2['properties']['cached_web_app_id']&&(_0x2442d8['web_app_id']=_0x1f91f2[_0x3c6623(0xf5)][_0x3c6623(0x11a)]);_0x2442d8[_0x3c6623(0x13d)]=_0x17cc0c;const _0x49edab=_0x1f91f2[_0x3c6623(0x107)][_0x3c6623(0x135)](_0x3fcbd3=>_0x3fcbd3[_0x3c6623(0x11d)]==='input_values_json');if(_0x49edab){const _0x44039d=JSON[_0x3c6623(0xe7)](_0x2442d8);_0x49edab[_0x3c6623(0x110)]!==_0x44039d&&(_0x49edab[_0x3c6623(0x110)]=_0x44039d);}}catch(_0x3d52a6){console[_0x3c6623(0xfe)](_0x3c6623(0x11f),_0x3d52a6);}}function validateConnections(_0x2f6dbe){const _0x24562b=a0_0x1a2bfa;_0x2f6dbe['inputs']?.[_0x24562b(0x16c)]((_0x2ebf67,_0x45f6cb)=>{const _0x41c5cf=_0x24562b,_0x159a83=app[_0x41c5cf(0x156)][_0x41c5cf(0x140)][_0x2ebf67[_0x41c5cf(0x180)]];if(_0x159a83&&_0x159a83[_0x41c5cf(0xf2)]!==_0x2ebf67[_0x41c5cf(0xf2)]&&_0x2ebf67[_0x41c5cf(0xf2)]!=='*')_0x2f6dbe['disconnectInput'](_0x45f6cb);}),_0x2f6dbe['outputs']?.[_0x24562b(0x16c)](_0x1a4b84=>{const _0x3858e9=_0x24562b;_0x1a4b84['links']?.['slice']()['reverse']()[_0x3858e9(0x16c)](_0x319c24=>{const _0x5e3166=_0x3858e9,_0x3634ce=app[_0x5e3166(0x156)]['links'][_0x319c24];if(_0x3634ce){const _0x26bf61=app['graph']['getNodeById'](_0x3634ce[_0x5e3166(0x15f)]),_0x1fae9d=_0x26bf61?.[_0x5e3166(0xf7)]?.[_0x3634ce[_0x5e3166(0x138)]]?.[_0x5e3166(0xf2)];_0x1a4b84[_0x5e3166(0xf2)]!=='*'&&_0x1fae9d!=='*'&&_0x1a4b84['type']!==_0x1fae9d&&app[_0x5e3166(0x156)][_0x5e3166(0x120)](_0x319c24);}});});}